{"version":3,"sources":["webpack:///./demo/previewApp.ts"],"names":[],"mappings":"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","file":"previewApp.js","sourcesContent":["\nimport {Chart, AXIS_RANGE_TYPE} from '../src/Chart';\n\nvar chart: Chart;\n\nclass DataSourse {\n\tdata: number[] = [];\n\n\tconstructor() {\n\t\tlet sec = 0;\n\t\tlet val = 70;\n\n\t\twhile (sec < 50) {\n\t\t\tthis.data.push(val);\n\t\t\tval += Math.random() * 14 - 7;\n\t\t\tsec++;\n\t\t}\n\t}\n\n\tgetNext() {\n\t\tvar lastVal = this.data[this.data.length - 1];\n\t\tvar nextVal = lastVal + Math.random() * 14 - 7;\n\t\tthis.data.push(nextVal);\n\t\treturn nextVal;\n\t}\n\n\tgetPrev() {\n\t\tvar firstVal = this.data[0];\n\t\tvar nextVal = firstVal + Math.random() * 14 - 7;\n\t\tthis.data.unshift(nextVal);\n\t\treturn nextVal;\n\t}\n}\n\nwindow.onload = function () {\n\n\t//initListeners();\n\n\tvar dsMain = new DataSourse();\n\tvar dsRed = new DataSourse();\n\tvar dsBlue = new DataSourse();\n\n\tchart = new Chart({\n\t\t$el: document.querySelector('.chart'),\n\t\t// yAxis: {\n\t\t// \trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 100}\n\t\t// },\n\t\txAxis: {\n\t\t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 100},\n\t\t\t// range: {\n\t\t\t// \tfrom: 80,\n\t\t\t// \tto: 90\n\t\t\t// }\n\t\t},\n\t\ttrends: {\n\t\t\t'main': {dataset: dsMain.data, hasBeacon: true, hasIndicator: true, hasGradient: false},\n\t\t\t// 'red': {dataset: dsRed.data, lineColor: 0xFF2222, lineWidth: 2, hasGradient: false, hasIndicator: true, enabled: false},\n\t\t\t// 'blue': {dataset: dsBlue.data, lineColor: 0x2222FF, lineWidth: 2, hasGradient: false, hasIndicator: true, enabled: false},\n\t\t}\n\t});\n\t\n\t(<any>window)['chart'] = chart;\n\n\t// var previewChart1 = Chart.createPreviewChart({\n\t// \t$el: document.querySelectorAll('.preview-chart')[0],\n\t// \tyAxis: {\n\t// \t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 20, to: 150}\n\t// \t},\n\t// \txAxis: {\n\t// \t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 100}\n\t// \t},\n\t// \ttrends: {\n\t// \t\t'main': {dataset: dsMain.data, hasBeacon: true}\n\t// \t}\n\t// });\n\t//\n\t// var previewChart2 = Chart.createPreviewChart({\n\t// \t$el: document.querySelectorAll('.preview-chart')[1],\n\t// \tyAxis: {\n\t// \t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 200}\n\t// \t},\n\t// \txAxis: {\n\t// \t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 200}\n\t// \t},\n\t// \ttrends: {\n\t// \t\t'main': {dataset: dsMain.data, hasBeacon: true}\n\t// \t},\n\t//\n\t// });\n\t//\n\t// var previewChart3 = Chart.createPreviewChart({\n\t// \t$el: document.querySelectorAll('.preview-chart')[2],\n\t// \tyAxis: {\n\t// \t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 100}\n\t// \t},\n\t// \txAxis: {\n\t// \t\trange: {type: AXIS_RANGE_TYPE.FIXED, from: 0, to: 80}\n\t// \t},\n\t// \ttrends: {\n\t// \t\t'main': {dataset: dsMain.data, hasBeacon: true},\n\t// \t\t'red': {dataset: dsRed.data, lineColor: 0xFF2222},\n\t// \t}\n\t// });\n\t//\n\n\tvar i = 0;\n\n\tchart.getTrend('main').onPrependRequest((requestedLength, resolve, reject) => {\n\t\tvar responseData: number[] = [];\n\t\tvar ticksCount = Math.round(requestedLength);\n\t\twhile (ticksCount--) responseData.unshift(dsMain.getPrev());\n\t\tsetTimeout(() => {\n\t\t\tresolve(responseData);\n\t\t}, 4000)\n\t});\n\n\tsetInterval(() => {\n\t\ti++;\n\t\tvar val = dsMain.getNext();\n\n\t\t// [i % 2 ? 10 : 20]\n\t\t\n\t\tchart.getTrend('main').appendData([val]);\n\t\t// chart.getTrend('main').prependData([val, dsMain.getNext(), dsMain.getNext(), dsMain.getNext()]);\n\t\t// chart.getTrend('red').appendData([val + 10 + Math.random() * 20]);\n\t\t// chart.getTrend('blue').appendData([val + 20 + Math.random() * 20]);\n\n\n\n\t\t// previewChart1.getTrend('main').appendData([val]);\n\t\t// previewChart2.getTrend('main').appendData([val + 10 + Math.random() * 20]);\n\t\t// previewChart3.getTrend('red').appendData([val + 20 + Math.random() * 20]);\n\t\t\n\t\t// previewChart1.appendData(dataToAppend1);\n\t\t//\n\t\t// var chartData2 = previewChart2.state.data.trends[0].data;\n\t\t// var lastItem2 = chartData2[chartData.length - 1];\n\t\t// var dataToAppend2 = [\n\t\t// \t{xVal: lastItem2.xVal + 1, yVal: lastItem2.yVal + Math.random() * 14 - 7 },\n\t\t// ];\n\t\t// previewChart2.appendData(dataToAppend2);\n\t\t// previewChart3.appendData(dataToAppend2);\n\t}, 1000);\n};\n\n\n// function initListeners() {\n// \tvar $checkboxMaintrend = document.querySelector('input[name=\"maintrend\"]') as HTMLInputElement;\n// \t$checkboxMaintrend.addEventListener('change', () => {\n// \t\tchart.setState({trends: {main: {enabled: $checkboxMaintrend.checked}}});\n// \t});\n// \tvar $checkboxRedtrend = document.querySelector('input[name=\"redtrend\"]') as HTMLInputElement;\n// \t$checkboxRedtrend.addEventListener('change', () => {\n// \t\tchart.setState({trends: {red: {enabled: $checkboxRedtrend.checked}}});\n// \t});\n// \tvar $checkboxBluetrend = document.querySelector('input[name=\"bluetrend\"]') as HTMLInputElement;\n// \t$checkboxBluetrend.addEventListener('change', () => {\n// \t\tchart.setState({trends: {blue: {enabled: $checkboxBluetrend.checked}}});\n// \t});\n// }\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./demo/previewApp.ts\n **/"],"sourceRoot":""}