{"version":3,"sources":["webpack:///webpack/bootstrap eeea3da5040d1fa3434b","webpack:///./index.ts","webpack:///./src/index.ts","webpack:///./src/Chart.ts","webpack:///./src/deps.ts","webpack:///./src/widgets/TrendsIndicatorWidget.ts","webpack:///./src/Utils.ts","webpack:///./~/is-plain-object/index.js","webpack:///./~/isobject/index.js","webpack:///./~/deepmerge/index.js","webpack:///./src/widgets/TrendsWidget.ts","webpack:///./src/Widget.ts","webpack:///./src/widgets/TrendsLineWidget.ts","webpack:///./src/State.ts","webpack:///./src/Trends.ts","webpack:///./src/Trend.ts","webpack:///./~/es6-promise/dist/es6-promise.js","webpack:///./~/process/browser.js","webpack:///(webpack)/buildin/module.js","webpack:///vertx (ignored)","webpack:///(webpack)/buildin/amd-define.js","webpack:///./src/TrendMarks.ts","webpack:///./src/TrendPoints.ts","webpack:///./src/Screen.ts","webpack:///./src/AxisMarks.ts","webpack:///./src/interfaces.ts","webpack:///./src/widgets/TrendsBeaconWidget.ts","webpack:///./src/widgets/AxisWidget.ts","webpack:///./src/widgets/GridWidget.ts","webpack:///./src/widgets/TrendsLoadingWidget.ts","webpack:///./src/widgets/AxisMarksWidget.ts","webpack:///./src/widgets/TrendsMarksWidget.ts","webpack:///./src/widgets/BorderWidget.ts"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2GAA0G;;AAE1G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA8B,sBAAsB;;AAEpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,+BAA+B;AACpD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT,wBAAuB,QAAQ;AAC/B;;AAEA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mEAAkE,QAAQ;;AAE1E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mEAAkE,QAAQ;AAC1E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sCAAqC,QAAQ;;AAE7C;;AAEA,sBAAqB,wBAAwB;AAC7C;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA,0BAAyB,YAAY;AACrC;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAO;AACP;;AAEA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb,YAAW;AACX;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;;AAEA;AACA,eAAc,SAAS;AACvB,eAAc,SAAS;AACvB;AACA,gBAAe;AACf;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA,eAAc,SAAS;AACvB;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,kEAAkE;AACvF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT,uDAAsD,gBAAgB,EAAE;AACxE;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAyB,wCAAwC,EAAE;AACnE,MAAK;AACL;AACA,MAAK;AACL;AACA;;AAEA;AACA,EAAC;;;;;;;;;AC77BD;;AAEA;AACA;AACA;A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","file":"ThreeChart.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eeea3da5040d1fa3434b\n **/","export * from './src/index';\n\n\n/** WEBPACK FOOTER **\n ** ./index.ts\n **/","export * from './Chart';\nexport * from './interfaces';\nexport * from './AxisMarks';\nexport * from './Screen';\nexport * from './State';\nexport * from './Trend';\nexport * from './TrendMarks';\nexport * from './TrendPoints';\nexport * from './Trends';\nexport * from './Utils';\nexport * from './Widget';\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.ts\n **/","// deps must be always on top\nimport {Trend} from \"./Trend\";\nrequire('./deps');\n\nimport Vector3 = THREE.Vector3;\nimport PerspectiveCamera = THREE.PerspectiveCamera;\nimport Renderer = THREE.Renderer;\nimport Scene = THREE.Scene;\nimport WebGLRenderer = THREE.WebGLRenderer;\nimport Object3D = THREE.Object3D;\nimport {TrendsIndicatorWidget} from \"./widgets/TrendsIndicatorWidget\";\nimport {TrendsLineWidget} from \"./widgets/TrendsLineWidget\";\nimport {ChartState, IChartState} from \"./State\";\nimport {ChartWidget, IChartWidgetConstructor} from \"./Widget\";\nimport {Utils} from \"./Utils\";\nimport {Screen, IScreenTransformOptions} from \"./Screen\";\nimport {TrendsBeaconWidget} from \"./widgets/TrendsBeaconWidget\";\nimport {AxisWidget} from \"./widgets/AxisWidget\";\nimport {GridWidget} from \"./widgets/GridWidget\";\nimport {TrendsGradientWidget} from \"./widgets/TrendsGradientWidget\";\nimport {TrendsLoadingWidget} from \"./widgets/TrendsLoadingWidget\";\nimport {AxisMarksWidget} from \"./widgets/AxisMarksWidget\";\nimport {TrendsMarksWidget} from \"./widgets/TrendsMarksWidget\";\nimport {BorderWidget} from \"./widgets/BorderWidget\";\n\nexport const MAX_DATA_LENGTH = 1000;\n\nexport class Chart {\n\tstate: ChartState;\n\tprivate $el: HTMLElement;\n\tprivate renderer: Renderer;\n\tprivate scene: Scene;\n\tprivate camera: PerspectiveCamera;\n\tprivate cameraInitialPosition: Vector3;\n\tprivate widgets: Array<ChartWidget> = [];\n\tprivate stats: Stats;\n\n\tstatic devicePixelRatio = window.devicePixelRatio;\n\tstatic installedWidgets: {[name: string]: typeof ChartWidget} = {};\n\n\tconstructor(state: IChartState) {\n\t\tthis.state = new ChartState(state);\n\t\tthis.init();\n\t};\n\n\tstatic installWidget<WidgetClass extends typeof ChartWidget>(Widget: WidgetClass) {\n\t\tif (!Widget.widgetName) {\n\t\t\tUtils.error('unnamed widget');\n\t\t}\n\t\tthis.installedWidgets[Widget.widgetName] = Widget;\n\t}\n\n\tprivate init() {\n\t\tvar state = this.state;\n\t\tvar {width: w, height: h, $el, showStats} = state.data;\n\t\tthis.scene = new THREE.Scene();\n\n\t\tvar renderer = this.renderer = new WebGLRenderer({antialias: true}); //new THREE.CanvasRenderer();\n\t\trenderer.setPixelRatio(Chart.devicePixelRatio);\n\t\trenderer.setSize(w, h);\n\t\t$el.appendChild(renderer.domElement);\n\t\tthis.$el = renderer.domElement;\n\t\tthis.$el.style.display = 'block';\n\n\t\tif (showStats) {\n\t\t\tthis.stats = new Stats();\n\t\t\t$el.appendChild(this.stats.domElement);\n\t\t}\n\n\t\tvar camSettings = state.screen.getCameraSettings();\n\t\tthis.camera = new PerspectiveCamera(camSettings.FOV, camSettings.aspect, camSettings.near, camSettings.far);\n\t\tthis.camera.position.set(camSettings.x, camSettings.y, camSettings.z);\n\t\tthis.cameraInitialPosition = this.camera.position.clone();\n\t\tthis.scene.add(this.camera);\n\t\t//this.camera.position.z = 2000;\n\n\t\t// init widgets\n\t\tfor (let widgetName in Chart.installedWidgets) {\n\t\t\tlet widgetOptions = this.state.data.widgets[widgetName];\n\t\t\tif (!widgetOptions.enabled) continue;\n\t\t\tlet WidgetConstructor = Chart.installedWidgets[widgetName] as IChartWidgetConstructor;\n\t\t\tlet widget = new WidgetConstructor(this.state);\n\t\t\tthis.scene.add(widget.getObject3D());\n\t\t\tthis.widgets.push(widget);\n\t\t}\n\n\t\tthis.bindEvents();\n\t\tthis.render(Date.now());\n\t}\n\t\n\trender(time: number) {\n\t\tthis.stats && this.stats.begin();\n\t\tthis.renderer.render(this.scene, this.camera);\n\n\t\tvar renderDelay = this.state.data.animations.enabled ? 0 : 1000;\n\t\tif (renderDelay) {\n\t\t\tsetTimeout(() => requestAnimationFrame((time) => this.render(time)), renderDelay);\n\t\t} else {\n\t\t\trequestAnimationFrame((time) => this.render(time));\n\t\t}\n\t\tthis.stats && this.stats.end();\n\t}\n\t\n\tgetState(): IChartState {\n\t\treturn this.state.data\n\t}\n\n\t/**\n\t * shortcut for Chart.state.getTrend\n\t */\n\tgetTrend(trendName: string): Trend {\n\t\treturn this.state.getTrend(trendName);\n\t}\n\t\n\t/**\n\t * shortcut for Chart.state.setState\n\t */\n\tsetState(state: IChartState) {\n\t\treturn this.state.setState(state);\n\t}\n\n\n\tprivate bindEvents() {\n\t\tvar $el = this.$el;\n\t\t$el.addEventListener('mousewheel', (ev: MouseWheelEvent) => {this.onMouseWheel(ev)});\n\t\t$el.addEventListener('mousemove', (ev: MouseEvent) => {this.onMouseMove(ev)});\n\t\t$el.addEventListener('mousedown', (ev: MouseEvent) => this.onMouseDown(ev));\n\t\t$el.addEventListener('mouseup', (ev: MouseEvent) => this.onMouseUp(ev));\n\t\t$el.addEventListener('touchmove', (ev: TouchEvent) => {this.onTouchMove(ev)});\n\t\t$el.addEventListener('touchend', (ev: TouchEvent) => {this.onTouchEnd(ev)});\n\n\t\tthis.state.onTrendsChange(() => this.autoscroll());\n\t\t//this.state.screen.onCameraChange((scrollX, scrollY) => this.onCameraChangeHandler(scrollX, scrollY))\n\n\t\tthis.state.screen.onTransformationFrame((options) => this.onScreenTransform(options))\n\t}\n\n\tprivate onCameraChangeHandler(x: number, y: number) {\n\t\tif (x != void 0) {\n\t\t\tthis.camera.position.setX(this.cameraInitialPosition.x + x);\n\t\t}\n\t\tif (y != void 0) {\n\t\t\tthis.camera.position.setY(this.cameraInitialPosition.y + y);\n\t\t}\n\t}\n\n\tprivate onScreenTransform(options: IScreenTransformOptions) {\n\t\tif (options.scrollX != void 0) {\n\t\t\tthis.camera.position.setX(this.cameraInitialPosition.x + options.scrollX);\n\t\t}\n\t\tif (options.scrollY != void 0) {\n\t\t\tthis.camera.position.setY(this.cameraInitialPosition.y + options.scrollY);\n\t\t}\n\t}\n\t\n\tprivate autoscroll() {\n\t\tvar state = this.state;\n\t\tif (state.data.cursor.dragMode) return;\n\t\tvar oldTrendsMaxX = state.data.prevState.computedData.trends.maxXVal;\n\t\tvar trendsMaxXDelta = state.data.computedData.trends.maxXVal - oldTrendsMaxX;\n\t\tif (trendsMaxXDelta > 0) {\n\t\t\tvar maxVisibleX = this.state.getScreenRightVal();\n\t\t\tvar paddingRightX = this.state.getPaddingRight();\n\t\t\tvar currentScroll = state.data.xAxis.range.scroll;\n\t\t\tif (oldTrendsMaxX < paddingRightX || oldTrendsMaxX > maxVisibleX) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar scrollDelta = trendsMaxXDelta;\n\t\t\tthis.setState({xAxis: {range: {scroll: currentScroll + scrollDelta}}});\n\t\t}\n\t}\n\t\n\tprivate onScrollStop() {\n\t\t// var tendsXMax = this.state.data.computedData.trends.maxX;\n\t\t// var paddingRightX = this.state.getPaddingRight();\n\t\t// if (tendsXMax < paddingRightX) {\n\t\t// \tthis.state.scrollToEnd();\n\t\t// }\n\t}\n\n\tprivate onMouseDown(ev: MouseEvent) {\n\t\tthis.setState({cursor: {dragMode: true, x: ev.clientX, y: ev.clientY}});\n\t}\n\t\n\tprivate onMouseUp(ev: MouseEvent) {\n\t\tthis.setState({cursor: {dragMode: false}});\n\t}\n\n\tprivate onMouseMove(ev: MouseEvent) {\n\t\tif (this.state.data.cursor.dragMode) {\n\t\t\tthis.setState({cursor: {dragMode: true, x: ev.clientX, y: ev.clientY}});\n\t\t}\n\t}\n\n\tprivate onMouseWheel(ev: MouseWheelEvent) {\n\t\tev.stopPropagation();\n\t\tev.preventDefault();\n\t\tthis.state.zoom(1 + ev.wheelDeltaY * 0.0002);\n\t}\n\n\tprivate onTouchMove(ev: TouchEvent) {\n\t\tthis.setState({cursor: {dragMode: true, x: ev.touches[0].clientX, y: ev.touches[0].clientY}});\n\t}\n\n\tprivate onTouchEnd(ev: TouchEvent) {\n\t\tthis.setState({cursor: {dragMode: false}});\n\t}\n\n\t/**\n\t * creates simple chart without animations and minimal widgets set\n\t */\n\tstatic createPreviewChart(userOptions: IChartState): Chart {\n\t\tvar previewChartOptions: IChartState = {\n\t\t\tanimations: {enabled: false},\n\t\t\twidgets: {\n\t\t\t\tGrid: {enabled: false},\n\t\t\t\tAxis: {enabled: false},\n\t\t\t\tTrendsGradient: {enabled: false}\n\t\t\t}\n\t\t};\n\t\tvar options = Utils.deepMerge(userOptions, previewChartOptions);\n\t\treturn new Chart(options);\n\t}\n\n}\n\n// install built-in widgets\nChart.installWidget(TrendsLineWidget);\nChart.installWidget(AxisWidget);\nChart.installWidget(GridWidget);\nChart.installWidget(TrendsBeaconWidget);\nChart.installWidget(TrendsIndicatorWidget);\n// Chart.installWidget(TrendsGradientWidget);\nChart.installWidget(TrendsLoadingWidget);\nChart.installWidget(AxisMarksWidget);\nChart.installWidget(TrendsMarksWidget);\nChart.installWidget(BorderWidget);\n\n\n/** WEBPACK FOOTER **\n ** ./src/Chart.ts\n **/","// TODO: think about different bundles build\n// (<any>window).THREE = require('three/three');\n// (<any>window).Stats = require('three/examples/js/libs/stats.min');\n// (<any>window).TweenLite = require('gsap/src/uncompressed/TweenMax');\n//require('gsap/src/uncompressed/easing/EasePack.js');\n//require('three/examples/js/renderers/CanvasRenderer.js');\n//require('three/examples/js/renderers/Projector.js');\nexport var EventEmitter = window['EventEmitter'] as typeof EventEmitter2;//require('EventEmitter2') as typeof EventEmitter2;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/deps.ts\n **/","\nimport Object3D = THREE.Object3D;\nimport {ChartState} from \"../State\";\nimport {Utils} from \"../Utils\";\nimport Mesh = THREE.Mesh;\nimport PlaneBufferGeometry = THREE.PlaneBufferGeometry;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport Vector3 = THREE.Vector3;\nimport {TrendWidget, TrendsWidget} from \"./TrendsWidget\";\nimport {ITrendOptions} from \"../Trend\";\nimport PlaneGeometry = THREE.PlaneGeometry;\nimport Color = THREE.Color;\nimport {TrendPoints, TrendPoint} from \"../TrendPoints\";\n\nconst CANVAS_WIDTH = 128;\nconst CANVAS_HEIGHT = 64;\n\nexport class TrendsIndicatorWidget extends TrendsWidget<TrendIndicator> {\n\tstatic widgetName = 'TrendsIndicator';\n\tprotected getTrendWidgetClass() {\n\t\treturn TrendIndicator;\n\t}\n}\n\nexport class TrendIndicator extends TrendWidget {\n\tprivate mesh: Mesh;\n\tprivate point: TrendPoint;\n\n\tstatic widgetIsEnabled(trendOptions: ITrendOptions) {\n\t\treturn trendOptions.enabled && trendOptions.hasIndicator;\n\t}\n\n\tconstructor(state: ChartState, trendName: string) {\n\t\tsuper(state, trendName);\n\t\tthis.initObject();\n\t\tthis.onTrendChange();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.mesh;\n\t}\n\n\tonTrendChange() {\n\t\t// update canvas value\n\t\tlet trendData = this.trend.getData();\n\t\tvar lastItem = trendData[trendData.length - 1];\n\t\tvar texture = (this.mesh.material as MeshBasicMaterial).map;\n\t\tvar ctx = texture.image.getContext('2d');\n\t\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\t\t// uncomment to preview indicator rect\n\t\t// ctx.fillStyle = \"rgba(255,255,255,0.5)\";\n\t\t// ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\t\tctx.fillText(lastItem.yVal.toFixed(4), 0, 15);\n\t\ttexture.needsUpdate = true;\n\t}\n\n\tprivate initObject() {\n\t\tvar color = new Color(this.trend.getOptions().lineColor);\n\t\tvar texture = Utils.createPixelPerfectTexture(CANVAS_WIDTH, CANVAS_HEIGHT, (ctx) => {\n\t\t\tctx.beginPath();\n\t\t\tctx.font = \"15px Arial\";\n\t\t\tctx.fillStyle = color.getStyle();\n\t\t\tctx.strokeStyle = \"rgba(255,255,255,0.95)\";\n\t\t});\n\n\t\tvar material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.FrontSide} );\n\t\tmaterial.transparent = true;\n\n\t\tthis.mesh = new Mesh(\n\t\t\tnew THREE.PlaneGeometry(CANVAS_WIDTH, CANVAS_HEIGHT),\n\t\t\tmaterial\n\t\t);\n\t}\n\n\tprotected onTransformationFrame() {\n\t\t// set new widget position\n\t\tthis.point = this.trend.points.getEndPoint();\n\t\tthis.updatePosition();\n\t}\n\n\tprotected onPointsMove(animationState: TrendPoints) {\n\t\t// set new widget position\n\t\tthis.point = animationState.getEndPoint();\n\t\tthis.updatePosition();\n\t}\n\n\tprivate updatePosition() {\n\t\tvar state = this.chartState;\n\t\tvar endPointVector = this.point.getFramePoint();\n\t\tvar screenWidth = state.data.width;\n\t\tvar x = endPointVector.x;\n\t\tvar y = endPointVector.y;\n\t\tvar screenX = state.screen.getScreenXByPoint(endPointVector.x);\n\t\tif (screenX < 0 || screenX > screenWidth) {\n\t\t\tif (screenX < 0) x = state.screen.getPointByScreenX(0) + 20;\n\t\t\tif (screenX > screenWidth) x = state.screen.getPointByScreenX(screenWidth) - CANVAS_WIDTH / 2 - 10;\n\t\t\ty -= 25;\n\t\t}\n\t\tthis.mesh.position.set(x + CANVAS_WIDTH / 2, y + CANVAS_HEIGHT / 2  - 30, 0.1);\n\t}\n\n\t\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/TrendsIndicatorWidget.ts\n **/","import Texture = THREE.Texture;\nimport Color = THREE.Color;\nimport {TIteralable} from \"./interfaces\";\n\nvar isPlainObject = require('is-plain-object') as Function;\n\nexport declare type TUid = number;\n\nvar deepmerge = require('deepmerge') as Function;\n\n/**\n * project utils static class\n */\nexport class Utils {\n\n\tprivate static currentId: TUid = 1;\n\n\t/**\n\t * deepMerge based on https://www.npmjs.com/package/deepmerge\n\t */\n\tstatic deepMerge<T> (obj1: T, obj2: T) {\n\t\treturn deepmerge(obj1, obj2) as T;\n\t}\n\n\t/**\n\t * deepCopy based on JSON.stringify function\n\t */\n\tstatic deepCopy<T> (obj: T) {\n\t\treturn JSON.parse(JSON.stringify(obj)) as T;\n\t}\n\n\t/**\n\t *\n\t * @example\n\t * // returns \"000015\"\n\t * Utils.toFixed(15, 6);\n\t */\n\tstatic toFixed(num: number, digitsCount: number): string {\n\t\tvar maxDigits = 15;\n\t\tvar result = '';\n\t\tvar intVal = Math.floor(num);\n\t\tvar intStr = intVal.toString();\n\t\tvar lengthDiff = digitsCount - intStr.length;\n\t\tif (lengthDiff > 0 ) {\n\t\t\tresult = (<any>'0').repeat(lengthDiff) + intStr;\n\t\t} else {\n\t\t\tresult = intStr;\n\t\t}\n\t\tvar afterPointDigitsCount = maxDigits - intStr.length;\n\t\tvar afterPointStr = num.toString().split('.')[1];\n\t\tif (afterPointStr) {\n\t\t\tresult += '.' + afterPointStr.substr(0, afterPointDigitsCount);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * generate texture from canvas context\n\t * @example\n\t * \t// create texture with rect\n\t *  var texture = Utils.createTexture(20, 20, (ctx) => {ctx.fillRect(0, 0, 10, 10)});\n\t */\n\tstatic createTexture(width: number, height: number, fn: (ctx: CanvasRenderingContext2D) => void ): Texture {\n\t\tvar canvas: HTMLCanvasElement = document.createElement('canvas');\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\t\tvar ctx = canvas.getContext('2d');\n\t\tfn(ctx);\n\t\tvar texture = new THREE.Texture(canvas);\n\t\ttexture.needsUpdate = true;\n\t\treturn texture;\n\t}\n\n\t/**\n\t * generate texture from canvas context with NearestFilter\n\t * @example\n\t * \t// create texture with rect\n\t *  var texture = Utils.createTexture(20, 20, (ctx) => {ctx.fillRect(0, 0, 10, 10)});\n\t */\n\tstatic createPixelPerfectTexture(width: number, height: number, fn: (ctx: CanvasRenderingContext2D) => void ): Texture{\n\t\tvar texture = this.createTexture(width, height, fn);\n\t\ttexture.magFilter = THREE.NearestFilter;\n\t\ttexture.minFilter = THREE.NearestFilter;\n\t\treturn texture;\n\t}\n\n\t/**\n\t * throw error\n\t */\n\tstatic error(msg: string) {\n\t\tconsole.error('Chart error: ' + msg);\n\t\tthrow 'Chart: ' + msg;\n\t}\n\n\t/**\n\t * @returns new unique id\n\t */\n\tstatic getUid(): TUid {\n\t\treturn this.currentId++;\n\t}\n\t\n\tstatic eq(num1: number, num2: number) {\n\t\treturn Math.abs(num1 - num2) < 0.01\n\t}\n\t\n\tstatic gte(num1: number, num2: number) {\n\t\treturn this.eq(num1, num2) || num1 > num2;\n\t}\n\n\tstatic lte(num1: number, num2: number) {\n\t\treturn this.eq(num1, num2) || num1 < num2;\n\t}\n\n\n\n\t/**!\n\t * @preserve $.parseColor\n\t * Copyright 2011 THEtheChad Elliott\n\t * Released under the MIT and GPL licenses.\n\t */\n\n\n// Parse hex/rgb{a} color syntax.\n// @input string\n// @returns array [r,g,b{,o}]\n\tstatic parseColor(color: string): number[] {\n\n\t\tvar cache: any\n\t\t\t, p = parseInt // Use p as a byte saving reference to parseInt\n\t\t\t, color = color.replace(/\\s\\s*/g,'') // Remove all spaces\n\t\t\t;//var\n\n\t\t// Checks for 6 digit hex and converts string to integer\n\t\tif (cache = /^#([\\da-fA-F]{2})([\\da-fA-F]{2})([\\da-fA-F]{2})/.exec(color))\n\t\t\tcache = [p(cache[1], 16), p(cache[2], 16), p(cache[3], 16)];\n\n\t\t// Checks for 3 digit hex and converts string to integer\n\t\telse if (cache = /^#([\\da-fA-F])([\\da-fA-F])([\\da-fA-F])/.exec(color))\n\t\t\tcache = [p(cache[1], 16) * 17, p(cache[2], 16) * 17, p(cache[3], 16) * 17];\n\n\t\t// Checks for rgba and converts string to\n\t\t// integer/float using unary + operator to save bytes\n\t\telse if (cache = /^rgba\\(([\\d]+),([\\d]+),([\\d]+),([\\d]+|[\\d]*.[\\d]+)\\)/.exec(color))\n\t\t\tcache = [+cache[1], +cache[2], +cache[3], +cache[4]];\n\n\t\t// Checks for rgb and converts string to\n\t\t// integer/float using unary + operator to save bytes\n\t\telse if (cache = /^rgb\\(([\\d]+),([\\d]+),([\\d]+)\\)/.exec(color))\n\t\t\tcache = [+cache[1], +cache[2], +cache[3]];\n\n\t\t// Otherwise throw an exception to make debugging easier\n\t\telse throw Error(color + ' is not supported by $.parseColor');\n\n\t\t// Performs RGBA conversion by default\n\t\tisNaN(cache[3]) && (cache[3] = 1);\n\t\treturn cache;\n\t\t// Adds or removes 4th value based on rgba support\n\t\t// Support is flipped twice to prevent erros if\n\t\t// it's not defined\n\t\t//return cache.slice(0,3 + !!$.support.rgba);\n\t}\n\t\n\tstatic getHexColor(str: string): number {\n\t\tvar rgb = this.parseColor(str);\n\t\treturn (rgb[0] << (8 * 2)) + (rgb[1] << 8) + rgb[2];\n\t}\n\n\tstatic throttle(func: Function, ms: number) {\n\n\tvar isThrottled = false,\n\t\tsavedArgs: any,\n\t\tsavedThis: any;\n\n\tfunction wrapper() {\n\n\t\tif (isThrottled) { // (2)\n\t\t\tsavedArgs = arguments;\n\t\t\tsavedThis = this;\n\t\t\treturn;\n\t\t}\n\n\t\tfunc.apply(this, arguments); // (1)\n\n\t\tisThrottled = true;\n\n\t\tsetTimeout(function() {\n\t\t\tisThrottled = false; // (3)\n\t\t\tif (savedArgs) {\n\t\t\t\twrapper.apply(savedThis, savedArgs);\n\t\t\t\tsavedArgs = savedThis = null;\n\t\t\t}\n\t\t}, ms);\n\t}\n\n\treturn wrapper;\n}\n\n\tstatic msToTimeString(timestamp: number) {\n\t\tvar h = Math.floor(timestamp / 360000);\n\t\tvar m =  Math.floor(timestamp / 60000);\n\t\tvar s =  Math.floor(timestamp / 1000);\n\t\treturn h + ':' + m + ':' + s;\n\t}\n\t\n\tstatic getRandomItem<T>(arr: Array<T>): T {\n\t\tvar ind = Math.floor(Math.random() * arr.length);\n\t\treturn arr[ind];\n\t}\n\n\tstatic copyProps(srcObject: TIteralable, dstObject: TIteralable, props: TIteralable, excludeProps: string[] = []) {\n\t\tfor (var key in props) {\n\t\t\tif (excludeProps.indexOf(key) !== -1) continue;\n\t\t\tif (srcObject[key] == void 0) continue;\n\t\t\tif (isPlainObject(props[key]) && dstObject[key] !== void 0) {\n\t\t\t\tthis.copyProps(srcObject[key], dstObject[key], props[key])\n\t\t\t} else {\n\t\t\t\tdstObject[key] = this.deepCopy(srcObject[key]);\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n\nconsole.log(Utils.msToTimeString(1000));\n\n\n/** WEBPACK FOOTER **\n ** ./src/Utils.ts\n **/","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n  \n  if (isObjectObject(o) === false) return false;\n  \n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n  \n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n  \n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n  \n  // Most likely a plain Object\n  return true;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/is-plain-object/index.js\n ** module id = 6\n ** module chunks = 0 1\n **/","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object'\n    && !Array.isArray(val);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/isobject/index.js\n ** module id = 7\n ** module chunks = 0 1\n **/","(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.deepmerge = factory();\n    }\n}(this, function () {\n\nreturn function deepmerge(target, src) {\n    var array = Array.isArray(src);\n    var dst = array && [] || {};\n\n    if (array) {\n        target = target || [];\n        dst = dst.concat(target);\n        src.forEach(function(e, i) {\n            if (typeof dst[i] === 'undefined') {\n                dst[i] = e;\n            } else if (typeof e === 'object') {\n                dst[i] = deepmerge(target[i], e);\n            } else {\n                if (target.indexOf(e) === -1) {\n                    dst.push(e);\n                }\n            }\n        });\n    } else {\n        if (target && typeof target === 'object') {\n            Object.keys(target).forEach(function (key) {\n                dst[key] = target[key];\n            })\n        }\n        Object.keys(src).forEach(function (key) {\n            if (typeof src[key] !== 'object' || !src[key]) {\n                dst[key] = src[key];\n            }\n            else {\n                if (!target[key]) {\n                    dst[key] = src[key];\n                } else {\n                    dst[key] = deepmerge(target[key], src[key]);\n                }\n            }\n        });\n    }\n\n    return dst;\n}\n\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/deepmerge/index.js\n ** module id = 8\n ** module chunks = 0 1\n **/","\nimport {ChartWidget} from \"../Widget\";\nimport Object3D = THREE.Object3D;\nimport {ChartState} from \"../State\";\nimport {ITrendOptions, ITrendData, Trend} from \"../Trend\";\nimport Vector2 = THREE.Vector2;\nimport Vector3 = THREE.Vector3;\nimport {TrendPoints} from \"../TrendPoints\";\nimport {IScreenTransformOptions} from \"../Screen\";\n\n\nexport interface ITrendWidgetClass<TrendWidgetType> {\n\tnew (chartState: ChartState, trendName: string): TrendWidgetType;\n\twidgetIsEnabled(trendOptions: ITrendOptions, chartState: ChartState): boolean;\n}\n\n/**\n * abstract manager class for all trends widgets\n */\nexport abstract class TrendsWidget<TrendWidgetType extends TrendWidget> extends ChartWidget {\n\tprotected abstract getTrendWidgetClass(): ITrendWidgetClass<TrendWidgetType>;\n\tprotected object3D: Object3D;\n\tprotected widgets: {[trendName: string]: TrendWidgetType} = {};\n\n\tconstructor (state: ChartState) {\n\t\tsuper(state);\n\t\tthis.object3D = new Object3D();\n\t\tthis.onTrendsChange();\n\t}\n\n\tprotected bindEvents() {\n\t\tvar state = this.chartState;\n\t\tstate.onTrendsChange(() => this.onTrendsChange());\n\t\tstate.onTrendChange((trendName: string, changedOptions: ITrendOptions, newData: ITrendData) => {\n\t\t\tthis.onTrendChange(trendName, changedOptions, newData)\n\t\t});\n\t}\n\n\tprotected onTrendsChange() {\n\t\tvar trendsOptions = this.chartState.data.trends;\n\t\tvar TrendWidgetClass = this.getTrendWidgetClass();\n\t\tfor (let trendName in trendsOptions) {\n\t\t\tlet trendOptions = trendsOptions[trendName];\n\t\t\tif (TrendWidgetClass.widgetIsEnabled(trendOptions, this.chartState) && !this.widgets[trendName]) {\n\t\t\t\tthis.createTrendWidget(trendName);\n\t\t\t} else if (!trendOptions.enabled && this.widgets[trendName]){\n\t\t\t\tthis.destroyTrendWidget(trendName);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onTrendChange(trendName: string, changedOptions: ITrendOptions, newData: ITrendData) {\n\t\tif (!changedOptions.data) return;\n\t\tvar widget = this.widgets[trendName];\n\t\tif (!widget) return;\n\t\twidget.onTrendChange(changedOptions);\n\t\tif (newData) {\n\t\t\tvar data = this.chartState.getTrend(trendName).getData();\n\t\t\tvar isAppend = (!data.length || data[0].xVal < newData[0].xVal);\n\t\t\tisAppend ? widget.appendData(newData) : widget.prependData(newData);\n\t\t}\n\t}\n\n\tgetObject3D(): Object3D {\n\t\treturn this.object3D;\n\t}\n\n\tprivate createTrendWidget(trendName: string) {\n\t\tvar WidgetConstructor = this.getTrendWidgetClass();\n\t\tvar widget = new WidgetConstructor(this.chartState, trendName);\n\t\tthis.widgets[trendName] = widget;\n\t\tvar widgetObject = widget.getObject3D();\n\t\twidgetObject.name = trendName;\n\t\tthis.object3D.add(widget.getObject3D());\n\t}\n\n\tprivate destroyTrendWidget(trendName: string) {\n\t\tthis.widgets[trendName].onDestroy();\n\t\tdelete this.widgets[trendName];\n\t\tvar widgetObject = this.object3D.getObjectByName(trendName);\n\t\tthis.object3D.remove(widgetObject);\n\t}\n}\n\n/**\n * based class for all trends widgets\n */\nexport abstract class TrendWidget {\n\tprotected trend: Trend;\n\tprivate unsubscribers: Function[] = [];\n\n\tconstructor (protected chartState: ChartState, protected trendName: string) {\n\t\tthis.trend = chartState.trends.getTrend(trendName);\n\t\tthis.chartState = chartState;\n\t\tthis.bindEvents();\n\t}\n\tabstract getObject3D(): Object3D;\n\tstatic widgetIsEnabled(trendOptions: ITrendOptions, chartState: ChartState) {\n\t\treturn trendOptions.enabled;\n\t}\n\tappendData(newData: ITrendData) {};\n\tprependData(newData: ITrendData) {};\n\tonTrendChange(changedOptions?: ITrendOptions) {}\n\tonDestroy() {\n\t\tfor (let unsubscriber of this.unsubscribers) {\n\t\t\tunsubscriber();\n\t\t}\n\t}\n\tprotected onPointsMove(trendPoints: TrendPoints) {\n\t}\n\tprotected onZoomFrame(options: IScreenTransformOptions) {\n\t}\n\tprotected onTransformationFrame(options: IScreenTransformOptions) {\n\t}\n\tprotected onZoom() {\n\t}\n\n\n\tprotected bindEvents() {\n\n\t\tthis.bindEvent(this.trend.points.onAnimationFrame(\n\t\t\t(trendPoints: TrendPoints) => this.onPointsMove(trendPoints)\n\t\t));\n\n\t\tthis.bindEvent(this.chartState.screen.onTransformationFrame(\n\t\t\t(options) => this.onTransformationFrame(options)\n\t\t));\n\t\t\n\t\tthis.bindEvent(this.chartState.screen.onZoomFrame(\n\t\t\t(options) => this.onZoomFrame(options)\n\t\t));\n\n\t\tthis.bindEvent(this.chartState.onZoom(() => this.onZoom()));\n\t};\n\n\tprotected bindEvent(unsubscriber: Function) {\n\t\tthis.unsubscribers.push(unsubscriber);\n\t}\n\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/TrendsWidget.ts\n **/","import {ChartState} from \"./State\";\nimport Object3D = THREE.Object3D;\n\nexport interface IChartWidgetConstructor {\n\tnew (chartState: ChartState): ChartWidget;\n\twidgetName: string;\n\tgetDefaultOptions(): IChartWidgetOptions;\n}\n\n/**\n * base class for all widgets\n * widgets must not change state!\n * each widget must have widgetName static property\n */\nexport abstract class ChartWidget {\n\tstatic widgetName = '';\n\tprotected chartState: ChartState;\n\n\tconstructor (chartState: ChartState) {\n\t\tthis.chartState = chartState;\n\t\tthis.bindEvents();\n\t}\n\t\n\tabstract getObject3D(): Object3D;\n\t\n\tprotected bindEvents() {}\n\t\n\tstatic getDefaultOptions(): IChartWidgetOptions {\n\t\treturn {enabled: true}\n\t}\n}\n\nexport interface IChartWidgetOptions {\n\tenabled: boolean\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Widget.ts\n **/","import Geometry = THREE.Geometry;\nimport Mesh = THREE.Mesh;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport Material = THREE.Material;\nimport Vector3 = THREE.Vector3;\nimport Line = THREE.Line;\nimport Object3D = THREE.Object3D;\nimport {ChartState} from \"../State\";\nimport Face3 = THREE.Face3;\nimport Texture = THREE.Texture;\nimport Vector2 = THREE.Vector2;\nimport {TrendsWidget, TrendWidget} from \"./TrendsWidget\";\nimport {TrendPoints} from \"../TrendPoints\";\nimport LineSegments = THREE.LineSegments;\nimport forestgreen = THREE.ColorKeywords.forestgreen;\nimport {IScreenTransformOptions} from \"../Screen\";\n\n/**\n * widget for drawing trends lines\n */\nexport class TrendsLineWidget extends TrendsWidget<TrendLine> {\n\tstatic widgetName = \"trendsLine\";\n\tprotected getTrendWidgetClass() {\n\t\treturn TrendLine;\n\t}\n}\n\n\nexport class TrendLine extends TrendWidget {\n\tprivate material: LineBasicMaterial;\n\tprivate lineSegments: LineSegments;\n\tprivate scaleXFactor: number;\n\tprivate scaleYFactor: number;\n\t\n\tconstructor (chartState: ChartState, trendName: string) {\n\t\tsuper(chartState, trendName);\n\t\tvar options = this.trend.getOptions();\n\t\tthis.material = new LineBasicMaterial( { color: options.lineColor, linewidth: options.lineWidth } );\n\t\tthis.initLine();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.lineSegments;\n\t}\n\t\n\tprivate initLine() {\n\t\tvar geometry = new Geometry();\n\t\tvar animationState = this.trend.points;\n\t\tvar points = animationState.points;\n\t\tthis.scaleXFactor = this.chartState.valueToPxByXAxis(1);\n\t\tthis.scaleYFactor = this.chartState.valueToPxByYAxis(1);\n\n\t\tfor (let pointId in points) {\n\t\t\tlet point = points[pointId];\n\t\t\tlet nextPoint = points[Number(pointId) + 1];\n\t\t\tif (!nextPoint) break;\n\t\t\tlet vert1 = point.getFrameVal();\n\t\t\tlet vert2 = nextPoint.getFrameVal();\n\t\t\tif (!nextPoint.hasValue) vert2 = vert1.clone();\n\t\t\tvert1 = this.toLocalVec(vert1);\n\t\t\tvert2 = this.toLocalVec(vert2);\n\t\t\tgeometry.vertices.push(vert1, vert2);\n\n\t\t}\n\n\t\tthis.lineSegments = new LineSegments(geometry, this.material);\n\t\tthis.lineSegments.scale.set(this.scaleXFactor, this.scaleYFactor, 1);\n\t\t// this.lineSegments.position.set(\n\t\t// \t- this.chartState.data.xAxis.range.from * this.scaleXFactor,\n\t\t// \t- this.chartState.data.yAxis.range.from * this.scaleYFactor,\n\t\t// \t0\n\t\t// );\n\t\tthis.lineSegments.frustumCulled = false;\n\t}\n\n\t// protected onZoom() {\n\t// \tvar currentScale = this.lineSegments.scale;\n\t// \tvar zoomX = this.chartState.data.xAxis.range.zoom;\n\t// \tvar zoomY = this.chartState.data.yAxis.range.zoom;\n\t// \tcurrentScale.set(this.scaleXFactor * zoomX, this.scaleYFactor * zoomY, 1);\n\t// \t// setInterval(() => {\n\t// \t// \tcurrentScale.setY(currentScale.scrollY + 0.4);\n\t// \t// }, 500)\n\t// }\n\n\t// protected onZoomFrame(zoomX: number, zoomY: number) {\n\t// \t// var currentScale = this.lineSegments.scale;\n\t// \t// currentScale.set(this.scaleXFactor * zoomX, this.scaleYFactor * zoomY, 1);\n\t// \t// setInterval(() => {\n\t// \t// \tcurrentScale.setY(currentScale.scrollY + 0.4);\n\t// \t// }, 500)\n\t// }\n\n\n\tprotected onZoomFrame(options: IScreenTransformOptions) {\n\t\tvar currentScale = this.lineSegments.scale;\n\t\tif (options.zoomX) currentScale.setX(this.scaleXFactor * options.zoomX);\n\t\tif (options.zoomY) currentScale.setY(this.scaleYFactor * options.zoomY);\n\t}\n\n\tprotected onPointsMove(animationState: TrendPoints) {\n\n\t\tvar trendData = this.trend.getData();\n\t\tvar geometry = this.lineSegments.geometry as Geometry;\n\t\tvar vertices = geometry.vertices;\n\t\tvar {current} = animationState;\n\t\tvar lastInd = trendData.length - 1;\n\t\tfor (var vertexValue in current) {\n\t\t\tlet firstChar = vertexValue.charAt(0);\n\t\t\tif (firstChar !== 'x' && firstChar !== 'y') continue;\n\t\t\tlet isX = firstChar == 'x';\n\t\t\tlet ind = Number(vertexValue.substr(1));\n\t\t\tif (ind > lastInd) continue;\n\t\t\tlet point = animationState.points[ind];\n\t\t\tlet nextPoint = point.getNext();\n\t\t\tlet prevPoint = point.getPrev();\n\t\t\tlet lineStartVertex = vertices[ind * 2];\n\t\t\tlet lineEndVertex = vertices[ind * 2 + 1];\n\t\t\tlet isAppend = (prevPoint);\n\n\t\t\tif (isX) {\n\t\t\t\tlet value = this.toLocalX(current[vertexValue]);\n\t\t\t\tif (prevPoint) {\n\t\t\t\t\tlineStartVertex.setX(this.toLocalX(prevPoint.getFrameVal().x));\n\t\t\t\t\tlineEndVertex.setX(value);\n\t\t\t\t} else {\n\t\t\t\t\tlineStartVertex.setX(value);\n\t\t\t\t\tlineEndVertex.setX(value);\n\t\t\t\t}\n\t\t\t\tif (nextPoint) {\n\t\t\t\t\tlet nextPointLineStartVertex = vertices[(nextPoint.id) * 2];\n\t\t\t\t\tif (nextPointLineStartVertex.x !== value) nextPointLineStartVertex.setX(value);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet value = this.toLocalY(current[vertexValue]);\n\t\t\t\tif (isAppend) {\n\t\t\t\t\tlineStartVertex.setY(this.toLocalY(prevPoint.getFrameVal().y));\n\t\t\t\t\tlineEndVertex.setY(value);\n\t\t\t\t} else {\n\t\t\t\t\tlineStartVertex.setY(value);\n\t\t\t\t\tlineEndVertex.setY(value);\n\t\t\t\t}\n\t\t\t\tif (nextPoint) {\n\t\t\t\t\tlet nextPointLineStartVertex = vertices[(nextPoint.id) * 2];\n\t\t\t\t\tif (nextPointLineStartVertex.y !== value) nextPointLineStartVertex.setY(value);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tgeometry.verticesNeedUpdate = true;\n\t}\n\n\tprivate toLocalX(xVal: number): number {\n\t\treturn xVal - this.chartState.data.xAxis.range.zeroVal;\n\t}\n\n\tprivate toLocalY(yVal: number): number {\n\t\treturn yVal - this.chartState.data.yAxis.range.zeroVal;\n\t}\n\n\tprivate toLocalVec(vec: Vector3): Vector3 {\n\t\treturn new Vector3(this.toLocalX(vec.x), this.toLocalY(vec.y), 0);\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/TrendsLineWidget.ts\n **/","import {ITrendOptions, Trend, ITrendData} from \"./Trend\";\nimport {EventEmitter} from './deps';\nimport {Utils} from './Utils';\nimport Vector3 = THREE.Vector3;\nimport {IChartWidgetOptions, ChartWidget} from \"./Widget\";\nimport {Trends, ITrendsOptions} from \"./Trends\";\nimport {Screen} from \"./Screen\";\nimport {IChartEvent} from \"./Events\";\nimport {AxisMarks} from \"./AxisMarks\";\nimport {AXIS_TYPE, AXIS_DATA_TYPE, IAxisOptions, IAnimationsOptions, AXIS_RANGE_TYPE} from \"./interfaces\";\nimport {Chart} from \"./Chart\";\n\n\ninterface IRecalculatedStateResult {\n\tchangedProps: IChartState,\n\tpatch: IChartState,\n\teventsToEmit: IChartEvent[]\n}\n\n/**\n * readonly computed state data\n * calculated after recalculateState() call\n * contains cached values\n */\nexport interface IChartStateComputedData {\n\ttrends?: {\n\t\tmaxXVal: number,\n\t\tminXVal: number\n\t}\n}\n\nexport interface IChartState {\n\tprevState?: IChartState,\n\t$el?: Element;\n\twidth?: number;\n\theight?: number;\n\tzoom?: number;\n\txAxis?: IAxisOptions,\n\tyAxis?: IAxisOptions,\n\tanimations?: IAnimationsOptions,\n\ttrends?: ITrendsOptions,\n\twidgets?: {[widgetName: string]: IChartWidgetOptions},\n\tcursor?: {\n\t\tdragMode?: boolean,\n\t\tx?: number,\n\t\ty?: number\n\t},\n\tshowStats?: boolean;\n\tcomputedData?: IChartStateComputedData\n\t[key: string]: any; // for \"for in\" loops\n}\n\n/**\n * main class for manage chart state\n */\nexport class ChartState {\n\n\tdata: IChartState = {\n\t\tprevState: {},\n\t\t$el: null,\n\t\tzoom: 0,\n\t\txAxis: {\n\t\t\trange: {type: AXIS_RANGE_TYPE.ALL, from: 0, to: 0, scroll: 0, padding: {start: 0, end: 200}, zoom: 1},\n\t\t\tdataType: AXIS_DATA_TYPE.NUMBER,\n\t\t\tgridMinSize: 100,\n\t\t\tautoScroll: true,\n\t\t\tmarks: [],\n\t\t},\n\t\tyAxis: {\n\t\t\trange: {type: AXIS_RANGE_TYPE.RELATIVE_END, from: 0, to: 0, padding: {start: 100, end: 100}, zoom: 1},\n\t\t\tdataType: AXIS_DATA_TYPE.NUMBER,\n\t\t\tgridMinSize: 50,\n\t\t\tmarks: []\n\t\t},\n\t\tanimations: {\n\t\t\tenabled: true,\n\t\t\ttrendChangeSpeed: 0.5,\n\t\t\ttrendChangeEase: void 0, //Linear.easeNone\n\t\t\tzoomSpeed: 0.5,\n\t\t\tzoomEase: void 0,//Linear.easeNone,\n\t\t\tautoScrollSpeed: 1,\n\t\t\tautoScrollEase: Linear.easeNone\n\t\t},\n\t\tcursor: {\n\t\t\tdragMode: false,\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t},\n\t\tshowStats: false\n\t};\n\ttrends: Trends;\n\tscreen: Screen;\n\txAxisMarks: AxisMarks;\n\tprivate ee: EventEmitter2;\n\n\tconstructor(initialState: IChartState) {\n\t\tthis.ee = new EventEmitter();\n\t\tthis.ee.setMaxListeners(15);\n\t\tthis.screen = new Screen(this);\n\n\t\tif (!initialState.$el) {\n\t\t\tUtils.error('$el must be set');\n\t\t}\n\n\t\t// calculate chart size\n\t\tlet style = getComputedStyle(initialState.$el);\n\t\tinitialState.width = parseInt(style.width);\n\t\tinitialState.height = parseInt(style.height);\n\n\t\tthis.trends = new Trends(this, initialState);\n\t\tinitialState.trends = this.trends.calculatedOptions;\n\t\tthis.setState(initialState);\n\t\tthis.setState({computedData: this.getComputedData()});\n\t\tthis.savePrevState();\n\t\tthis.xAxisMarks = new AxisMarks(this, AXIS_TYPE.X);\n\t\tthis.initListeners();\n\t\t\n\t\t// message to other modules that ChartState.data is ready for use \n\t\tthis.ee.emit('initialStateApplied', initialState);\n\t\t\n\t\t// message to other modules that ChartState is ready for use \n\t\tthis.ee.emit('ready', initialState);\n\t}\n\n\tonInitialStateApplied(cb: (initialState: IChartState) => void ): Function {\n\t\tthis.ee.on('initialStateApplied', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('initialStateApplied', cb);\n\t\t}\n\t}\n\n\tonReady(cb: (initialState: IChartState) => void ): Function {\n\t\tthis.ee.on('ready', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('ready', cb);\n\t\t}\n\t}\n\n\tonChange(cb: (changedProps: IChartState) => void ) {\n\t\tthis.ee.on('change', cb);\n\t}\n\n\tonTrendChange(cb: (trendName: string, changedOptions: ITrendOptions, newData: ITrendData) => void) {\n\t\tthis.ee.on('trendChange', cb);\n\t}\n\n\tonTrendsChange(cb: (trendsOptions: ITrendsOptions) => void) {\n\t\tthis.ee.on('trendsChange', cb);\n\t}\n\n\tonXAxisChange(cb: (changedOptions: IAxisOptions) => void) {\n\t\tthis.ee.on('xAxisChange', cb);\n\t}\n\n\tonScrollStop(cb: () => void) {\n\t\tthis.ee.on('scrollStop', cb);\n\t}\n\n\tonScroll(cb: (scrollOptions: {deltaX: number}) => void) {\n\t\tthis.ee.on('scroll', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('scroll', cb);\n\t\t}\n\t}\n\n\tonZoom(cb: (changedProps: IChartState) => void) {\n\t\tthis.ee.on('zoom', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('zoom', cb);\n\t\t}\n\t}\n\t\n\tgetTrend(trendName: string): Trend {\n\t\treturn this.trends.getTrend(trendName);\n\t}\n\n\tsetState(newState: IChartState, eventData?: any, silent = false) {\n\t\tvar stateData = this.data;\n\n\t\tvar changedProps: IChartState = {};\n\t\tfor (let key in newState) {\n\t\t\tif ((<any>stateData)[key] !== newState[key]) {\n\t\t\t\tchangedProps[key] = newState[key];\n\t\t\t}\n\t\t}\n\n\t\tthis.savePrevState(changedProps);\n\n\t\tthis.data = Utils.deepMerge(this.data, newState);\n\t\tif (silent) return;\n\n\t\t// recalculate all dynamic state props\n\t\tvar recalculateResult = this.recalculateState(changedProps);\n\t\tchangedProps = recalculateResult.changedProps;\n\t\t\n\t\tthis.emitChangedStateEvents(changedProps, eventData);\n\n\t}\n\n\tprivate recalculateState(changedProps?: IChartState): IRecalculatedStateResult {\n\t\tvar data = this.data;\n\t\tvar patch: IChartState = {};\n\t\tvar eventsToEmit: IChartEvent[] = [];\n\t\tvar actualData = Utils.deepMerge({}, data);\n\n\t\t// recalculate widgets\n\t\tif (changedProps.widgets || !data.widgets) {\n\t\t\tpatch.widgets = {};\n\t\t\tlet widgetsOptions = data.widgets || {};\n\t\t\tfor (let widgetName in Chart.installedWidgets) {\n\t\t\t\tlet WidgetClass = Chart.installedWidgets[widgetName];\n\t\t\t\tlet userOptions = widgetsOptions[widgetName] || {};\n\t\t\t\tlet defaultOptions = WidgetClass.getDefaultOptions() || ChartWidget.getDefaultOptions();\n\t\t\t\tpatch.widgets[widgetName] = Utils.deepMerge(defaultOptions, userOptions) as IChartWidgetOptions;\n\t\t\t}\n\t\t}\n\n\t\t// recalculate scroll position by changed cursor options\n\t\tvar cursorOptions = changedProps.cursor;\n\t\tvar scrollChanged = cursorOptions && data.cursor.dragMode && data.prevState.cursor.dragMode;\n\t\tif (scrollChanged) {\n\t\t\tvar oldX = data.prevState.cursor.x;\n\t\t\tvar currentX =  cursorOptions.x;\n\t\t\tvar currentScroll = data.xAxis.range.scroll;\n\t\t\tvar deltaXVal = this.pxToValueByXAxis(oldX - currentX);\n\t\t\tpatch.xAxis = {range: {scroll: currentScroll + deltaXVal}};\n\t\t\tactualData = Utils.deepMerge(actualData, {xAxis: patch.xAxis} as IChartState)\n\t\t}\n\n\t\tvar needToRecalculateXAxis = (\n\t\t\tscrollChanged ||\n\t\t\t(changedProps.xAxis && (changedProps.xAxis.range)) ||\n\t\t\tthis.data.xAxis.range.zeroVal == void 0\n\t\t);\n\t\tif (needToRecalculateXAxis) {\n\t\t\tlet xAxisPatch = this.recalculateXAxis(actualData);\n\t\t\tif (xAxisPatch) {\n\t\t\t\tpatch = Utils.deepMerge(patch, {xAxis: xAxisPatch});\n\t\t\t\tactualData = Utils.deepMerge(actualData, {xAxis: xAxisPatch} as IChartState);\n\t\t\t}\n\t\t}\n\n\n\t\t// recalculate axis \"from\" and \"to\" for dynamics AXIS_RANGE_TYPE\n\t\tvar needToRecalculateYAxis = (\n\t\t\t(data.yAxis.range.type === AXIS_RANGE_TYPE.RELATIVE_END || data.yAxis.range.type === AXIS_RANGE_TYPE.AUTO) &&\n\t\t\t(scrollChanged || changedProps.trends || changedProps.yAxis) ||\n\t\t\tthis.data.yAxis.range.zeroVal == void 0\n\t\t);\n\t\tif (needToRecalculateYAxis){\n\t\t\tlet yAxisPatch = this.recalculateYAxis(actualData);\n\t\t\tif (yAxisPatch) {\n\t\t\t\tpatch = Utils.deepMerge(patch, {yAxis: yAxisPatch});\n\t\t\t\tactualData = Utils.deepMerge(actualData, {yAxis: yAxisPatch} as IChartState);\n\t\t\t}\n\t\t}\n\t\t// TODO: recalculate xAxis\n\n\t\tthis.savePrevState(patch);\n\t\tvar allChangedProps = Utils.deepMerge(changedProps, patch);\n\t\tpatch.computedData = this.getComputedData(allChangedProps);\n\t\tthis.savePrevState(patch);\n\t\tthis.data = Utils.deepMerge(this.data, patch);\n\t\treturn {changedProps: allChangedProps, patch: patch, eventsToEmit: eventsToEmit}\n\t}\n\n\tprivate getComputedData(changedProps?: IChartState): IChartStateComputedData {\n\t\tvar computeAll = !changedProps;\n\t\tvar computedData: IChartStateComputedData = {};\n\n\t\tif (computeAll || changedProps.trends && this.trends) {\n\t\t\tcomputedData.trends = {\n\t\t\t\tmaxXVal: this.trends.getEndXVal(),\n\t\t\t\tminXVal: this.trends.getStartXVal()\n\t\t\t}\n\t\t}\n\t\treturn computedData;\n\t}\n\n\tprivate savePrevState(changedProps?: IChartState) {\n\t\t// var propsToSave = changedProps ? Object.keys(changedProps) : Object.keys(this.data);\n\t\tif (!changedProps) changedProps = this.data;\n\t\tvar prevState = this.data.prevState;\n\n\n\t\t// prevent to store prev trend data by performance reasons\n\t\tUtils.copyProps(this.data, prevState, changedProps, ['trends']);\n\t\t// for (let propName of propsToSave) {\n\t\t// \tif (this.data[propName] == void 0) continue;\n\t\t//\n\t\t// \t// prevent to store prev trend data by performance reasons\n\t\t// \tif (propName == 'trends') {\n\t\t// \t\tcontinue;\n\t\t// \t}\n\t\t//\n\t\t// \tprevState[propName] = Utils.deepCopy(this.data[propName]);\n\t\t// }\n\t}\n\n\tprivate emitChangedStateEvents(changedProps: IChartState, eventData: any) {\n\t\tvar prevState = this.data.prevState;\n\n\t\t// emit common change event\n\t\tthis.ee.emit('change', changedProps, eventData);\n\n\t\t// emit event for each changed state property\n\t\tfor (let key in changedProps) {\n\t\t\tthis.ee.emit(key + 'Change', changedProps[key], eventData);\n\t\t}\n\n\n\t\t// emit special events based on changed state\n\t\tvar scrollStopEventNeeded = (\n\t\t\tchangedProps.cursor &&\n\t\t\tchangedProps.cursor.dragMode === false &&\n\t\t\tprevState.cursor.dragMode === true\n\t\t);\n\t\tscrollStopEventNeeded && this.ee.emit('scrollStop', changedProps);\n\n\t\tvar scrollChangeEventsNeeded = (\n\t\t\tchangedProps.xAxis &&\n\t\t\tchangedProps.xAxis.range &&\n\t\t\tchangedProps.xAxis.range.scroll !== void 0\n\t\t);\n\t\tscrollChangeEventsNeeded && this.ee.emit('scroll', changedProps);\n\n\t\tvar zoomEventsNeeded = (\n\t\t\t(changedProps.xAxis && changedProps.xAxis.range && changedProps.xAxis.range.zoom) ||\n\t\t\t(changedProps.yAxis && changedProps.yAxis.range && changedProps.yAxis.range.zoom)\n\t\t);\n\t\tzoomEventsNeeded && this.ee.emit('zoom', changedProps);\n\n\t}\n\n\tprivate initListeners() {\n\t\tthis.ee.on('trendsChange', (changedTrends: ITrendsOptions, newData: ITrendData) => {\n\t\t\tthis.handleTrendsChange(changedTrends, newData)\n\t\t});\n\t}\n\n\tprivate handleTrendsChange(changedTrends: ITrendsOptions, newData: ITrendData) {\n\t\tfor (let trendName in changedTrends) {\n\t\t\tthis.ee.emit('trendChange', trendName, changedTrends[trendName], newData);\n\t\t}\n\t}\n\n\tprivate recalculateXAxis(actualData: IChartState): IAxisOptions {\n\t\tvar axisRange = actualData.xAxis.range;\n\t\tvar patch: IAxisOptions = {range: {}};\n\t\tvar isInitialize = axisRange.zeroVal == void 0;\n\t\tvar zeroVal: number, scaleFactor: number;\n\t\tvar zoom = axisRange.zoom;\n\n\t\tif (isInitialize) {\n\t\t\tzeroVal = axisRange.from;\n\t\t\tscaleFactor = actualData.width / (axisRange.to - axisRange.from);\n\t\t\tpatch = { range: {zeroVal: zeroVal, scaleFactor: scaleFactor}};\n\t\t} else {\n\t\t\tzeroVal = axisRange.zeroVal;\n\t\t\tscaleFactor = axisRange.scaleFactor;\n\t\t}\n\n\t\tdo {\n\t\t\tvar from = zeroVal + axisRange.scroll;\n\t\t\tvar to = from + actualData.width / (scaleFactor * zoom);\n\t\t\tvar rangeLength = to - from;\n\t\t\tvar needToRecalculateZoom = false;\n\t\t\t\n\t\t\tif (rangeLength > axisRange.maxLength || rangeLength < axisRange.minLength) {\n\t\t\t\tvar fixScale = rangeLength > axisRange.maxLength ?\n\t\t\t\t\trangeLength / axisRange.maxLength :\n\t\t\t\t\trangeLength / axisRange.minLength;\n\t\t\t\tvar zoom = zoom * fixScale;\n\t\t\t\tpatch.range.zoom = zoom;\n\t\t\t\tneedToRecalculateZoom = true;\n\t\t\t}\n\t\t} while (needToRecalculateZoom);\n\n\t\tpatch.range.from = from;\n\t\tpatch.range.to = to;\n\t\treturn patch;\n\t}\n\n\n\tprivate recalculateYAxis(actualData: IChartState): IAxisOptions {\n\t\tvar patch: IAxisOptions = {range: {}};\n\t\tvar yAxisRange = actualData.yAxis.range;\n\t\tvar isInitialize = yAxisRange.zeroVal == void 0;\n\t\tvar trends = this.trends;\n\t\tvar trendsEndXVal = trends.getEndXVal();\n\t\tvar trendsStartXVal = trends.getStartXVal();\n\t\tvar xRange = actualData.xAxis.range;\n\t\tvar {from: xFrom, to: xTo} = xRange;\n\t\tvar xRangeLength = xTo - xFrom;\n\t\tvar zeroVal: number, scaleFactor: number, scroll: number, zoom: number, needToZoom: boolean;\n\n\t\t// check situation when chart was scrolled behind trends end or before trends start\n\t\tif (xTo > trendsEndXVal) {\n\t\t\txTo = trendsEndXVal;\n\t\t\txFrom = xTo - xRangeLength;\n\t\t} else if (xFrom < trendsStartXVal) {\n\t\t\txFrom = trendsStartXVal;\n\t\t\txTo = xFrom + xRangeLength;\n\t\t}\n\n\n\t\tvar maxY = trends.getMaxYVal(xFrom, xTo);\n\t\tvar minY = trends.getMinYVal(xFrom, xTo);\n\n\t\tvar trendLastY = trends.getMaxYVal(trendsEndXVal, trendsEndXVal);\n\t\tif (yAxisRange.type == AXIS_RANGE_TYPE.RELATIVE_END) {\n\t\t\tif (trendLastY > maxY) maxY = trendLastY;\n\t\t\tif (trendLastY < minY) minY = trendLastY;\n\t\t}\n\n\t\tvar padding = yAxisRange.padding;\n\t\tvar rangeLength = maxY - minY;\n\t\tvar paddingTopInPercents = padding.end / actualData.height;\n\t\tvar paddingBottomInPercents = padding.start / actualData.height;\n\t\tvar rangeLengthInPercents = 1 - paddingTopInPercents - paddingBottomInPercents;\n\t\tvar visibleRangeLength = rangeLength / rangeLengthInPercents;\n\t\tvar fromVal = minY - visibleRangeLength * paddingBottomInPercents;\n\t\tvar toVal = maxY + visibleRangeLength * paddingTopInPercents;\n\t\t\n\t\tif (isInitialize) {\n\t\t\tzeroVal = fromVal;\n\t\t\tscaleFactor = actualData.height / (toVal - fromVal);\n\t\t\tpatch = { range: {zeroVal: zeroVal, scaleFactor: scaleFactor}};\n\t\t\tneedToZoom = true;\n\t\t} else {\n\t\t\tscaleFactor = yAxisRange.scaleFactor;\n\t\t\tzeroVal = yAxisRange.zeroVal;\n\n\t\t\tvar maxScreenY = Math.round(this.getScreenYByValue(maxY));\n\t\t\tvar minScreenY = Math.round(this.getScreenYByValue(minY));\n\t\t\tneedToZoom = (\n\t\t\t\tmaxScreenY > actualData.height ||\n\t\t\t\tmaxScreenY < actualData.height - padding.end ||\n\t\t\t\tminScreenY < 0 || minScreenY > padding.start\n\t\t\t);\n\t\t}\n\n\t\tif (!needToZoom) return null;\n\n\t\tscroll = fromVal - zeroVal;\n\t\tzoom = (actualData.height / (toVal - fromVal)) / scaleFactor ;\n\n\t\tvar currentAxisRange = this.data.yAxis.range;\n\t\tif (currentAxisRange.from !== fromVal) patch.range.from = fromVal;\n\t\tif (currentAxisRange.to !== toVal) patch.range.to = toVal;\n\t\tif (currentAxisRange.scroll !== scroll) patch.range.scroll = scroll;\n\t\tif (currentAxisRange.zoom !== zoom) patch.range.zoom = zoom;\n\t\t\n\t\treturn patch;\n\t}\n\n\tzoom(zoomValue: number) {\n\t\tvar {zoom, scroll, zeroVal} = this.data.xAxis.range;\n\t\tvar newZoom = zoom * zoomValue;\n\t\tvar screenLeftVal = this.getValueByScreenX(0);\n\t\tvar screenCenterVal = this.getValueByScreenX(this.data.width / 2);\n\t\tvar halfScreenLength = screenCenterVal - screenLeftVal;\n\t\tvar scrollDelta = halfScreenLength * zoomValue - halfScreenLength;\n\t\tvar newScroll = scroll + scrollDelta;\n\t\tthis.setState({xAxis: {range: {zoom: newZoom, scroll: newScroll}}});\n\t}\n\n\t/**\n\t *  returns offset in pixels from xAxis.range.zeroVal to xVal\n\t */\n\tgetPointOnXAxis(xVal: number): number {\n\t\tvar {scaleFactor, zoom, zeroVal} = this.data.xAxis.range;\n\t\treturn (xVal - zeroVal) * scaleFactor * zoom;\n\t}\n\n\t/**\n\t *  returns offset in pixels from yAxis.range.zeroVal to yVal\n\t */\n\tgetPointOnYAxis(yVal: number): number {\n\t\tvar {scaleFactor, zoom, zeroVal} = this.data.yAxis.range;\n\t\treturn (yVal - zeroVal) * scaleFactor * zoom;\n\t}\n\n\t/**\n\t * returns value by offset in pixels from xAxis.range.zeroVal\n\t */\n\tgetValueOnXAxis(x: number): number {\n\t\treturn this.data.xAxis.range.zeroVal + this.pxToValueByXAxis(x);\n\t}\n\n\n\t/**\n\t *  convert value to pixels by using settings from xAxis.range\n\t */\n\tvalueToPxByXAxis(xVal: number) {\n\t\treturn xVal * this.data.xAxis.range.scaleFactor * this.data.xAxis.range.zoom;\n\t}\n\n\n\t/**\n\t *  convert value to pixels by using settings from yAxis.range\n\t */\n\tvalueToPxByYAxis(yVal: number) {\n\t\treturn yVal * this.data.yAxis.range.scaleFactor * this.data.yAxis.range.zoom;\n\t}\n\n\t/**\n\t *  convert pixels to value by using settings from xAxis.range\n\t */\n\tpxToValueByXAxis(xVal: number) {\n\t\treturn xVal / this.data.xAxis.range.scaleFactor / this.data.xAxis.range.zoom;\n\t}\n\n\n\t/**\n\t *  convert pixels to value by using settings from yAxis.range\n\t */\n\tpxToValueByYAxis(yVal: number) {\n\t\treturn yVal / this.data.yAxis.range.scaleFactor / this.data.yAxis.range.zoom;\n\t}\n\n\n\t/**\n\t *  returns x value by screen x coordinate\n\t */\n\tgetValueByScreenX(x: number): number {\n\t\tvar {zeroVal, scroll} = this.data.xAxis.range;\n\t\treturn zeroVal + scroll + this.pxToValueByXAxis(x);\n\t}\n\n\n\t/**\n\t *  returns y value by screen y coordinate\n\t */\n\tgetValueByScreenY(y: number): number {\n\t\tvar {zeroVal, scroll} = this.data.yAxis.range;\n\t\treturn zeroVal + scroll + this.pxToValueByYAxis(y);\n\t}\n\n\n\t/**\n\t *  returns screen x value by screen y coordinate\n\t */\n\tgetScreenXByValue(xVal: number): number {\n\t\tvar {scroll, zeroVal} = this.data.xAxis.range;\n\t\treturn this.valueToPxByXAxis(xVal - zeroVal - scroll)\n\t}\n\n\t/**\n\t *  returns screen y value by screen y coordinate\n\t */\n\tgetScreenYByValue(yVal: number): number {\n\t\tvar {scroll, zeroVal} = this.data.yAxis.range;\n\t\treturn this.valueToPxByYAxis(yVal - zeroVal - scroll)\n\t}\n\n\n\t/**\n\t * returns screen x coordinate by offset in pixels from xAxis.range.zeroVal value\n\t */\n\tgetScreenXByPoint(xVal: number): number {\n\t\treturn this.getScreenXByValue(this.getValueOnXAxis(xVal));\n\t}\n\n\n\t/**\n\t * returns offset in pixels from xAxis.range.zeroVal value by screen x coordinate\n\t */\n\tgetPointByScreenX(screenX: number): number {\n\t\treturn this.getPointOnXAxis(this.getValueByScreenX(screenX));\n\t}\n\n\n\tgetPointOnChart(xVal: number, yVal: number): Vector3 {\n\t\treturn new Vector3(this.getPointOnXAxis(xVal), this.getPointOnYAxis(yVal), 0);\n\t}\n\n\n\tgetScreenLeftVal() {\n\t\treturn this.getValueByScreenX(0);\n\t}\n\n\n\tgetScreenRightVal() {\n\t\treturn this.getValueByScreenX(this.data.width);\n\t}\n\n\n\tgetPaddingRight(): number {\n\t\treturn this.getValueByScreenX(this.data.width - this.data.xAxis.range.padding.end);\n\t}\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/State.ts\n **/","\nimport {Trend, ITrendOptions} from \"./Trend\";\nimport {ChartState, IChartState} from \"./State\";\n\nexport interface ITrendsOptions {\n\t[trendName: string]: ITrendOptions;\n}\n\n/**\n * Trends collection\n */\nexport class Trends {\n\titems: {[name: string]: Trend} = {};\n\tcalculatedOptions: ITrendsOptions;\n\tprivate chartState: ChartState;\n\t\n\tconstructor(state: ChartState, initialState: IChartState) {\n\t\tthis.chartState = state;\n\t\tvar trendsCalculatedOptions: ITrendsOptions = {};\n\t\tfor (let trendName in initialState.trends) {\n\t\t\tlet trend = new Trend(state, trendName, initialState);\n\t\t\ttrendsCalculatedOptions[trendName] = trend.getCalculatedOptions();\n\t\t\tthis.items[trendName] = trend;\n\t\t}\n\t\tthis.calculatedOptions = trendsCalculatedOptions;\n\t}\n\n\tgetTrend(trendName: string) {\n\t\treturn this.items[trendName];\n\t}\n\t\n\tgetEnabledTrends(): Trend[] {\n\t\tvar enabledTrends: Trend[] = [];\n\t\tvar allTrends = this.items;\n\t\tfor (let trendName in allTrends) {\n\t\t\tlet trend = allTrends[trendName];\n\t\t\ttrend.getOptions().enabled && enabledTrends.push(trend);\n\t\t}\n\t\treturn enabledTrends;\n\t}\n\n\n\tgetStartXVal() {\n\t\tvar trends = this.getEnabledTrends();\n\t\treturn trends[0].getData()[0].xVal;\n\t}\n\n\n\tgetEndXVal(): number {\n\t\tvar trends = this.getEnabledTrends();\n\t\tvar firstTrendData = trends[0].getData();\n\t\treturn firstTrendData[firstTrendData.length - 1].xVal;\n\t}\n\t\n\t\n\tgetExtremumYVal(extremumIsMax: boolean, fromX?: number, toX?: number) {\n\t\tvar trends = this.getEnabledTrends();\n\t\tvar compareFn: Function;\n\t\tvar result: number;\n\t\tif (extremumIsMax) {\n\t\t\tresult = -Infinity;\n\t\t\tcompareFn = Math.max;\n\t\t} else {\n\t\t\tresult = Infinity;\n\t\t\tcompareFn = Math.min;\n\t\t}\n\t\tfor (let trend of trends) {\n\t\t\tvar trendData = trend.getData(fromX, toX);\n\t\t\tvar trendYValues = trendData.map((dataItem) => dataItem.yVal);\n\t\t\tresult = compareFn(result, ...trendYValues);\n\t\t}\n\t\tif (result == Infinity || result == -Infinity) result = NaN;\n\t\treturn result;\n\t}\n\n\tgetMaxYVal(fromX?: number, toX?: number) {return this.getExtremumYVal(true, fromX, toX)}\n\tgetMinYVal(fromX?: number, toX?: number) {return this.getExtremumYVal(false, fromX, toX)}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/Trends.ts\n **/","import {ChartState, IChartState} from \"./State\";\nimport {Utils} from \"./Utils\";\nimport {Promise} from \"es6-promise/dist/es6-promise\";\nimport {MAX_DATA_LENGTH} from \"./Chart\";\nimport {ITrendMarkOptions, TrendMarks} from \"./TrendMarks\";\nimport {TrendPoints} from \"./TrendPoints\";\nimport {EventEmitter} from './deps';\n\nexport interface IPrependPromiseExecutor {\n\t(requestedDataLength: number, resolve: (data: TTrendRawData) => void, reject: () => void): void;\n}\nexport type TTrendRawData = ITrendData | number[];\nexport interface ITrendItem {xVal: number, yVal: number, id?: number}\nexport interface ITrendData extends Array<ITrendItem>{}\nexport interface ITrendOptions {\n\tenabled?: boolean,\n\tdata?: ITrendData\n\tdataset?: ITrendData | number[],\n\tname?: string,\n\tlineWidth?: number,\n\tlineColor?: number,\n\thasGradient?: boolean,\n\thasIndicator?: boolean,\n\thasBeacon?: boolean,\n\tmarks?: ITrendMarkOptions[],\n\tonPrependRequest?: IPrependPromiseExecutor;\n}\n\nconst DEFAULT_OPTIONS: ITrendOptions = {\n\tenabled: true,\n\tdata: [],\n\tmarks: [],\n\tlineWidth: 2,\n\tlineColor: 0xFFFFFF,\n\thasGradient: true,\n\thasBeacon: false\n};\n\nexport class Trend {\n\tname: string;\n\tmarks: TrendMarks;\n\tpoints: TrendPoints;\n\tprivate chartState: ChartState;\n\tprivate calculatedOptions: ITrendOptions;\n\tprivate prependRequest: Promise<TTrendRawData>;\n\tprivate ee: EventEmitter2;\n\tprivate canRequestPrepend: boolean;\n\t\n\tconstructor(chartState: ChartState, trendName: string, initialState: IChartState) {\n\t\tvar options = initialState.trends[trendName];\n\t\tthis.name = trendName;\n\t\tthis.chartState = chartState;\n\t\tthis.calculatedOptions = Utils.deepMerge(DEFAULT_OPTIONS, options);\n\t\tthis.calculatedOptions.name = trendName;\n\t\tif (options.dataset) this.calculatedOptions.data = Trend.prepareData(options.dataset);\n\t\tthis.ee = new EventEmitter();\n\t\tthis.canRequestPrepend = !!options.onPrependRequest;\n\t\tthis.bindEvents();\n\t}\n\n\tprivate onInitialStateApplied() {\n\t\tthis.points = new TrendPoints(this.chartState, this, MAX_DATA_LENGTH, this.getData()[0]);\n\t\tthis.marks = new TrendMarks(this.chartState, this);\n\t}\n\n\tprivate bindEvents() {\n\t\tvar chartState = this.chartState;\n\t\tchartState.onInitialStateApplied(() => this.onInitialStateApplied());\n\t\tchartState.onScrollStop(() => this.checkForPrependRequest());\n\t\tchartState.onZoom(() => this.checkForPrependRequest());\n\t\tchartState.onTrendChange((trendName, changedOptions, newData) => this.ee.emit('change', changedOptions, newData))\n\t}\n\n\tgetCalculatedOptions() {\n\t\treturn this.calculatedOptions;\n\t}\n\n\tappendData(rawData: TTrendRawData) {\n\t\tvar options = this.getOptions();\n\t\tvar newData = Trend.prepareData(rawData, this.getData());\n\t\tvar updatedTrendData = options.data.concat(newData);\n\t\tthis.changeData(updatedTrendData, newData);\n\t}\n\n\tprependData(rawData: TTrendRawData) {\n\t\tvar options = this.getOptions();\n\t\tvar newData = Trend.prepareData(rawData, this.getData(), true);\n\t\tvar updatedTrendData = newData.concat(options.data);\n\t\tthis.changeData(updatedTrendData, newData);\n\t}\n\n\tprivate changeData(allData: ITrendData, newData: ITrendData) {\n\t\tif (allData.length > MAX_DATA_LENGTH) Utils.error('max data length reached')\n\t\tvar options = this.getOptions();\n\t\tvar statePatch: IChartState = {trends: {[options.name]: {data: allData}}};\n\t\tthis.chartState.setState(statePatch, newData);\n\t}\n\t\n\tgetData(fromX?: number, toX?: number): ITrendData {\n\t\tvar data = this.getOptions().data;\n\t\tif (fromX == void 0 && toX == void 0) return data;\n\n\t\tfromX = fromX !== void 0 ? fromX : data[0].xVal;\n\t\ttoX = toX !== void 0 ? toX : data[data.length].xVal;\n\t\tvar filteredData: ITrendData = [];\n\t\tfor (let item of data) {\n\t\t\tif (item.xVal < fromX) continue;\n\t\t\tif (item.xVal > toX) break;\n\t\t\tfilteredData.push(item)\n\t\t}\n\t\treturn filteredData;\n\t}\n\n\tgetFirstItem(): ITrendItem {\n\t\treturn this.getOptions().data[0];\n\t}\n\t\n\tgetLastItem(): ITrendItem {\n\t\tvar data = this.getOptions().data;\n\t\treturn data[data.length - 1];\n\t}\n\n\tgetOptions() {\n\t\treturn this.chartState.data.trends[this.name]\n\t}\n\n\tonPrependRequest(cb: IPrependPromiseExecutor): Function {\n\t\tthis.canRequestPrepend = true;\n\t\tthis.ee.on('prependRequest', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('prependRequest', cb);\n\t\t}\n\t}\n\n\t/**\n\t * shortcut for ChartState.onTrendChange\n\t */\n\tonChange(cb: (changedOptions: ITrendOptions, newData: ITrendData) => void): Function {\n\t\tthis.ee.on('change', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('change', cb);\n\t\t}\n\t}\n\n\tonDataChange(cb: (newData: ITrendData) => void): Function {\n\t\tvar onChangeCb = (changedOptions: ITrendOptions, newData: ITrendData) => {\n\t\t\tif (changedOptions.data) cb(newData);\n\t\t};\n\t\tthis.ee.on('change', onChangeCb);\n\t\treturn () => {\n\t\t\tthis.ee.off('change', onChangeCb);\n\t\t}\n\t}\n\n\tprivate checkForPrependRequest() {\n\t\tif (this.prependRequest) return;\n\t\tvar chartState = this.chartState;\n\t\tvar minXVal = chartState.data.computedData.trends.minXVal;\n\t\tvar minScreenX = chartState.getScreenXByValue(minXVal);\n\t\tvar needToRequest = this.canRequestPrepend && minScreenX > 0;\n\t\tvar {from, to} = chartState.data.xAxis.range;\n\t\tvar requestedDataLength = to - from;\n\t\tif (!needToRequest) return;\n\t\t\n\t\tthis.prependRequest = new Promise<TTrendRawData>((resolve: Function, reject: Function) => {\n\t\t\tthis.ee.emit('prependRequest', requestedDataLength, resolve, reject);\n\t\t});\n\n\t\tthis.prependRequest.then((newData: TTrendRawData) => {\n\t\t\tthis.prependData(newData);\n\t\t\tthis.prependRequest = null;\n\t\t}, () => {\n\t\t\tthis.prependRequest = null;\n\t\t})\n\t\n\t}\n\n\tstatic prepareData (newData: TTrendRawData, currentData?: ITrendData, isPrepend = false): ITrendData {\n\t\tvar data: ITrendData = [];\n\t\tif (typeof newData[0] == 'number') {\n\t\t\tcurrentData = currentData || [];\n\t\t\tlet initialItem: ITrendItem;\n\t\t\tlet xVal: number;\n\t\t\tif (isPrepend) {\n\t\t\t\tinitialItem = currentData[0];\n\t\t\t\txVal = initialItem.xVal - newData.length;\n\t\t\t} else {\n\t\t\t\tinitialItem = currentData[currentData.length - 1];\n\t\t\t\txVal = initialItem ? initialItem.xVal + 1 : 0;\n\t\t\t}\n\t\t\tfor (let yVal of newData as number[]) {\n\t\t\t\tdata.push({xVal: xVal, yVal: yVal, id: Utils.getUid()});\n\t\t\t\txVal++;\n\t\t\t}\n\t\t} else {\n\t\t\tdata = newData as ITrendData;\n\t\t}\n\t\treturn data;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Trend.ts\n **/","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   3.2.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$vertxNext;\n    var lib$es6$promise$asap$$customSchedulerFn;\n\n    var lib$es6$promise$asap$$asap = function asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        if (lib$es6$promise$asap$$customSchedulerFn) {\n          lib$es6$promise$asap$$customSchedulerFn(lib$es6$promise$asap$$flush);\n        } else {\n          lib$es6$promise$asap$$scheduleFlush();\n        }\n      }\n    }\n\n    function lib$es6$promise$asap$$setScheduler(scheduleFn) {\n      lib$es6$promise$asap$$customSchedulerFn = scheduleFn;\n    }\n\n    function lib$es6$promise$asap$$setAsap(asapFn) {\n      lib$es6$promise$asap$$asap = asapFn;\n    }\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // see https://github.com/cujojs/when/issues/410 for details\n      return function() {\n        process.nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertx() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertx();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n    function lib$es6$promise$then$$then(onFulfillment, onRejection) {\n      var parent = this;\n\n      var child = new this.constructor(lib$es6$promise$$internal$$noop);\n\n      if (child[lib$es6$promise$$internal$$PROMISE_ID] === undefined) {\n        lib$es6$promise$$internal$$makePromise(child);\n      }\n\n      var state = parent._state;\n\n      if (state) {\n        var callback = arguments[state - 1];\n        lib$es6$promise$asap$$asap(function(){\n          lib$es6$promise$$internal$$invokeCallback(state, child, callback, parent._result);\n        });\n      } else {\n        lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n      }\n\n      return child;\n    }\n    var lib$es6$promise$then$$default = lib$es6$promise$then$$then;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    var lib$es6$promise$$internal$$PROMISE_ID = Math.random().toString(36).substring(16);\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFulfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$asap(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable, then) {\n      if (maybeThenable.constructor === promise.constructor &&\n          then === lib$es6$promise$then$$default &&\n          constructor.resolve === lib$es6$promise$promise$resolve$$default) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFulfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value, lib$es6$promise$$internal$$getThen(value));\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$asap(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    var lib$es6$promise$$internal$$id = 0;\n    function lib$es6$promise$$internal$$nextId() {\n      return lib$es6$promise$$internal$$id++;\n    }\n\n    function lib$es6$promise$$internal$$makePromise(promise) {\n      promise[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$id++;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n    }\n\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        return new Constructor(function(resolve, reject) {\n          reject(new TypeError('You must pass an array to race.'));\n        });\n      } else {\n        return new Constructor(function(resolve, reject) {\n          var length = entries.length;\n          for (var i = 0; i < length; i++) {\n            Constructor.resolve(entries[i]).then(resolve, reject);\n          }\n        });\n      }\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise's eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this[lib$es6$promise$$internal$$PROMISE_ID] = lib$es6$promise$$internal$$nextId();\n      this._result = this._state = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        typeof resolver !== 'function' && lib$es6$promise$promise$$needsResolver();\n        this instanceof lib$es6$promise$promise$$Promise ? lib$es6$promise$$internal$$initializePromise(this, resolver) : lib$es6$promise$promise$$needsNew();\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n    lib$es6$promise$promise$$Promise._setScheduler = lib$es6$promise$asap$$setScheduler;\n    lib$es6$promise$promise$$Promise._setAsap = lib$es6$promise$asap$$setAsap;\n    lib$es6$promise$promise$$Promise._asap = lib$es6$promise$asap$$asap;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: lib$es6$promise$then$$default,\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      this._instanceConstructor = Constructor;\n      this.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!this.promise[lib$es6$promise$$internal$$PROMISE_ID]) {\n        lib$es6$promise$$internal$$makePromise(this.promise);\n      }\n\n      if (lib$es6$promise$utils$$isArray(input)) {\n        this._input     = input;\n        this.length     = input.length;\n        this._remaining = input.length;\n\n        this._result = new Array(this.length);\n\n        if (this.length === 0) {\n          lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n        } else {\n          this.length = this.length || 0;\n          this._enumerate();\n          if (this._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(this.promise, this._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(this.promise, lib$es6$promise$enumerator$$validationError());\n      }\n    }\n\n    function lib$es6$promise$enumerator$$validationError() {\n      return new Error('Array Methods must be provided an Array');\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var length  = this.length;\n      var input   = this._input;\n\n      for (var i = 0; this._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        this._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var c = this._instanceConstructor;\n      var resolve = c.resolve;\n\n      if (resolve === lib$es6$promise$promise$resolve$$default) {\n        var then = lib$es6$promise$$internal$$getThen(entry);\n\n        if (then === lib$es6$promise$then$$default &&\n            entry._state !== lib$es6$promise$$internal$$PENDING) {\n          this._settledAt(entry._state, i, entry._result);\n        } else if (typeof then !== 'function') {\n          this._remaining--;\n          this._result[i] = entry;\n        } else if (c === lib$es6$promise$promise$$default) {\n          var promise = new c(lib$es6$promise$$internal$$noop);\n          lib$es6$promise$$internal$$handleMaybeThenable(promise, entry, then);\n          this._willSettleAt(promise, i);\n        } else {\n          this._willSettleAt(new c(function(resolve) { resolve(entry); }), i);\n        }\n      } else {\n        this._willSettleAt(resolve(entry), i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var promise = this.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        this._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          this._result[i] = value;\n        }\n      }\n\n      if (this._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, this._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/es6-promise/dist/es6-promise.js\n ** module id = 15\n ** module chunks = 0 1\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 16\n ** module chunks = 0 1\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 17\n ** module chunks = 0 1\n **/","/* (ignored) */\n\n\n/*****************\n ** WEBPACK FOOTER\n ** vertx (ignored)\n ** module id = 18\n ** module chunks = 0 1\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 19\n ** module chunks = 0 1\n **/","\nimport {ChartState} from \"./State\";\nimport {Utils} from \"./Utils\";\nimport {TEase} from \"./interfaces\";\nimport {Trend, ITrendOptions} from \"./Trend\";\nimport Vector3 = THREE.Vector3;\nimport {TrendPoint} from \"./TrendPoints\";\nimport {EventEmitter} from './deps';\n\nexport enum TREND_MARK_SIDE {TOP, BOTTOM}\n\nexport interface ITrendMarkOptions {\n\tvalue: number,\n\tname?: string,\n\ttitle?: string\n\tdescription?: string,\n\ticon?: string,\n\ticonColor?: string,\n\torientation?: TREND_MARK_SIDE\n}\n\nconst AXIS_MARK_DEFAULT_OPTIONS: ITrendMarkOptions = {\n\ttitle: '',\n\tdescription: '',\n\tvalue: 0,\n\ticonColor: 'rgb(255, 102, 217)',\n\torientation: TREND_MARK_SIDE.TOP\n};\n\nexport class TrendMarks {\n\tprivate chartState: ChartState;\n\tprivate ee: EventEmitter2;\n\tprivate trend: Trend;\n\tprivate items: {[name: string]: TrendMark} = {};\n\n\tconstructor(chartState: ChartState, trend: Trend) {\n\t\tthis.chartState = chartState;\n\t\tthis.ee = new EventEmitter();\n\t\tthis.trend = trend;\n\t\tthis.onMarksChange();\n\t\tthis.bindEvents();\n\t}\n\n\tprivate bindEvents() {\n\t\tthis.trend.onDataChange(() => this.updateMarksPoints());\n\t\tthis.trend.onChange((changedOptions) => this.onTrendChange(changedOptions));\n\t}\n\n\tprivate onTrendChange(changedOptions: ITrendOptions) {\n\t\tif (!changedOptions.marks) return;\n\t\tthis.onMarksChange();\n\t\tthis.ee.emit('change');\n\t}\n\t\n\tonChange(cb: () => void): Function {\n\t\tthis.ee.on('change', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('change', cb);\n\t\t}\n\t}\n\n\tprivate updateMarksPoints() {\n\t\tvar marks = this.items;\n\t\tvar marksArr: TrendMark[] = [];\n\t\tvar xVals: number[] = [];\n\t\tfor (let markName in marks) {\n\t\t\tlet mark = marks[markName];\n\t\t\txVals.push(mark.options.value);\n\t\t\tmarksArr.push(mark);\n\t\t\tmark.setPoint(null);\n\t\t}\n\t\tmarksArr.sort((a, b) => a.options.value - b.options.value);\n\t\tvar points = this.trend.points.getPointsForXValues(xVals.sort((a, b) => a - b));\n\t\tfor (let markInd = 0; markInd < marksArr.length; markInd++) {\n\t\t\tmarksArr[markInd].setPoint(points[markInd]);\n\t\t}\n\t}\n\n\tprivate onMarksChange() {\n\t\tvar trendsMarksOptions = this.trend.getOptions().marks;\n\t\tfor (let options of trendsMarksOptions) {\n\t\t\tvar marks = this.items;\n\n\t\t\t// set mark name\n\t\t\tif (!options.name) {\n\t\t\t\toptions.name = Utils.getUid().toString();\n\t\t\t\tif (marks[options.name]) Utils.error('duplicated mark name ' + options.name);\n\t\t\t} else if (marks[options.name]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\toptions = Utils.deepMerge(AXIS_MARK_DEFAULT_OPTIONS, options);\n\t\t\t\n\t\t\tlet mark =  new TrendMark(this.chartState, options, this.trend);\n\t\t\tmarks[options.name] = mark;\n\t\t}\n\t\tthis.updateMarksPoints();\n\t}\n\t\n\tcreateMark(options: ITrendMarkOptions) {\n\t\tvar marksOptions = this.trend.getOptions().marks;\n\t\tvar newMarkOptions = marksOptions.concat([options]);\n\t\tthis.chartState.setState({trends: {[this.trend.name]: {marks: newMarkOptions}}});\n\t}\n\n\tgetItems() {\n\t\treturn this.items;\n\t}\n\t\n\tgetItem(markName: string) {\n\t\treturn this.items[markName];\n\t}\n\n}\n\nexport class TrendMark {\n\toptions: ITrendMarkOptions;\n\tpoint: TrendPoint;\n\tprotected trend: Trend;\n\tprotected chartState: ChartState;\n\tprotected renderOnTrendsChange = false;\n\tprotected ee: EventEmitter2;\n\n\tconstructor(chartState: ChartState, options: ITrendMarkOptions, trend: Trend) {\n\t\tthis.ee = new EventEmitter();\n\t\tthis.options = options;\n\t\tthis.chartState = chartState;\n\t\tthis.trend = trend;\n\t}\n\t\n\tonAnimationFrame(cb: () => void): Function {\n\t\tthis.ee.on('onAnimationFrame', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('onAnimationFrame', cb);\n\t\t}\n\t}\n\n\t/**\n\t * only for internal usage\n\t */\n\tsetPoint(point: TrendPoint) {\n\t\tthis.point = point;\n\t}\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/TrendMarks.ts\n **/","\nimport {TIteralable} from \"./interfaces\";\nimport {EventEmitter} from './deps';\nimport {ChartState} from \"./State\";\nimport Vector3 = THREE.Vector3;\nimport {ITrendData, ITrendOptions, ITrendItem, Trend} from \"./Trend\";\nimport {Utils, TUid} from \"./Utils\";\n\nexport interface ITargets {\n\tease?: Linear | Ease\n\t[key: string]: number | Linear | Ease\n}\n\ninterface ICurrent {\n\t[key: string]: number\n}\n\n\n// class helps to animate trends points\nexport class TrendPoints {\n\tcurrentAnimation: TweenLite;\n\tpoints: {[id: string]: TrendPoint} = {};\n\t//pointsByXVal: {[scrollXVal: string]: TrendPoint} = {};\n\n\t// objects like {x0: 1, y0: 2, x1: 2, y2: 3, ...}\n\tcurrent: {[key: string]: number} = {};\n\ttargets: ITargets = {};\n\tchartState: ChartState;\n\tprivate nextEmptyId = 0;\n\tprivate startPointId = 0;\n\tprivate endPointId = 0;\n\tprivate trend: Trend;\n\tprivate ee: EventEmitter2;\n\n\tconstructor (chartState: ChartState, trend: Trend, pointsCount: number, initialItem: ITrendItem) {\n\t\tthis.chartState = chartState;\n\t\tthis.trend = trend;\n\t\tthis.ee = new EventEmitter();\n\t\tvar point: TrendPoint;\n\t\tfor (let i = 0; i < pointsCount; i++) {\n\t\t\tlet id = i;\n\t\t\tpoint = new TrendPoint(this, id, initialItem.xVal, initialItem.yVal);\n\t\t\tthis.points[id] = point;\n\t\t\tthis.current['x' + id] = initialItem.xVal;\n\t\t\tthis.current['y' + id] = initialItem.yVal;\n\t\t}\n\t\tthis.appendData(this.trend.getData());\n\t\tthis.bindEvents();\n\t}\n\n\tprotected bindEvents() {\n\t\tthis.trend.onChange((changedOptions: ITrendOptions, newData: ITrendData) => {\n\t\t\tif (newData) {\n\t\t\t\tvar data = this.trend.getData();\n\t\t\t\tvar isAppend = (!data.length || data[0].xVal < newData[0].xVal);\n\t\t\t\tisAppend ? this.appendData(newData) : this.prependData(newData);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetEndPoint(): TrendPoint {\n\t\treturn this.points[this.endPointId];\n\t}\n\n\tgetStartPoint(): TrendPoint {\n\t\treturn this.points[this.startPointId];\n\t}\n\n\t/**\n\t * returns array of points for values array\n\t * values must be sorted!\n\t */\n\tgetPointsForXValues(values: number[]): TrendPoint[] {\n\t\tvar valueInd = 0;\n\t\tvar value = values[valueInd];\n\t\tvar lastValueInd = values.length - 1;\n\t\tvar results: TrendPoint[] = [];\n\t\tvar point = this.getStartPoint();\n\t\tif (!point.hasValue) return [];\n\n\t\twhile (point) {\n\n\t\t\twhile (value < point.startXVal) {\n\t\t\t\tresults.push(void 0);\n\t\t\t\tvalue = values[++valueInd];\n\t\t\t}\n\n\t\t\twhile (value > point.endXVal) {\n\t\t\t\tpoint = point.getNext();\n\t\t\t\tif (!point) break;\n\t\t\t}\n\t\t\t\n\t\t\tvar valueInPoint = (\n\t\t\t\tpoint.startXVal == value || point.endXVal == value ||\n\t\t\t\t(point.startXVal < value && point.endXVal < value)\n\t\t\t);\n\t\t\tif (valueInPoint) {\n\t\t\t\tresults.push(point);\n\t\t\t\tvalue = values[++valueInd];\n\t\t\t}\n\t\t\tif (valueInd > lastValueInd) break;\n\t\t}\n\t\treturn results;\n\t}\n\n\tonAnimationFrame(cb: (animationState: TrendPoints) => void): Function {\n\t\tvar eventName = 'animationFrame';\n\t\tthis.ee.on('animationFrame', cb);\n\t\treturn () => {\n\t\t\tthis.ee.removeListener(eventName, cb);\n\t\t}\n\t}\n\n\tappendPoint(item: ITrendItem): TrendPoint {\n\t\tvar id = this.nextEmptyId++;\n\t\tvar point = this.points[id];\n\t\tvar prevPoint = this.points[this.endPointId];\n\t\tif (prevPoint.hasValue) {\n\t\t\tprevPoint.nextId = id;\n\t\t\tpoint.prevId = prevPoint.id;\n\t\t}\n\t\tpoint.hasValue = true;\n\t\tpoint.startXVal = item.xVal;\n\t\tpoint.endXVal = item.xVal;\n\t\tpoint.xVal = item.xVal;\n\t\tpoint.yVal = item.yVal;\n\t\tthis.endPointId = id;\n\t\treturn point;\n\t}\n\n\tprependPoint(item: ITrendItem): TrendPoint {\n\t\tvar id = this.nextEmptyId++;\n\t\tvar point = this.points[id];\n\t\tvar nextPoint = this.points[this.startPointId];\n\t\tif (nextPoint.hasValue) {\n\t\t\tnextPoint.prevId = id;\n\t\t\tpoint.nextId = nextPoint.id;\n\t\t}\n\t\tpoint.hasValue = true;\n\t\tpoint.startXVal = item.xVal;\n\t\tpoint.endXVal = item.xVal;\n\t\tpoint.xVal = item.xVal;\n\t\tpoint.yVal = item.yVal;\n\t\tthis.startPointId = id;\n\t\treturn point;\n\t}\n\n\tprivate prependData(newData: ITrendData) {\n\t\tvar chartState = this.chartState;\n\t\tvar trendData = this.trend.getData();\n\t\tvar animationsOptions = chartState.data.animations;\n\n\t\tvar startItemInd = newData.length;\n\t\tvar startItem = trendData[startItemInd] || newData[0];\n\t\tvar current: ICurrent = {};\n\t\tvar targets: ITargets = {};\n\t\tfor (let itemInd = startItemInd - 1; itemInd >= 0; itemInd--) {\n\t\t\tlet trendItem = trendData[itemInd];\n\t\t\tlet point = this.prependPoint(trendItem);\n\t\t\tlet id = point.id;\n\t\t\tcurrent['x' + id] = startItem.xVal;\n\t\t\tcurrent['y' + id] = startItem.yVal;\n\t\t\ttargets['x' + id] = trendItem.xVal;\n\t\t\ttargets['y' + id] = trendItem.yVal;\n\t\t}\n\t\ttargets.ease = animationsOptions.trendChangeEase;\n\t\tvar time = animationsOptions.enabled ? animationsOptions.trendChangeSpeed : 0;\n\t\tthis.animate(time, targets, current);\n\t}\n\n\tprivate appendData(newData: ITrendData) {\n\t\tvar chartState = this.chartState;\n\t\tvar trendData = this.trend.getData();\n\t\tvar animationsOptions = chartState.data.animations;\n\n\t\tvar startItemInd = trendData.length - newData.length;\n\t\tvar startItem = trendData[startItemInd - 1] || newData[0];\n\t\tvar current: ICurrent = {};\n\t\tvar targets: ITargets = {};\n\t\tfor (let itemInd = startItemInd; itemInd < trendData.length; itemInd++) {\n\t\t\tlet trendItem = trendData[itemInd];\n\t\t\tlet point = this.appendPoint(trendItem);\n\t\t\tlet id = point.id;\n\t\t\tcurrent['x' + id] = startItem.xVal;\n\t\t\tcurrent['y' + id] = startItem.yVal;\n\t\t\ttargets['x' + id] = trendItem.xVal;\n\t\t\ttargets['y' + id] = trendItem.yVal;\n\t\t}\n\t\ttargets.ease = animationsOptions.trendChangeEase;\n\t\tvar time = animationsOptions.enabled ? animationsOptions.trendChangeSpeed : 0;\n\t\tthis.animate(time, targets, current);\n\t}\n\n\tprivate animate(time: number, newTargets: Object, current?: Object) {\n\t\tvar cb = () => {\n\t\t\tthis.ee.emit('animationFrame', this);\n\t\t};\n\n\t\tvar cb = () => {\n\t\t\tthis.ee.emit('animationFrame', this);\n\t\t};\n\n\t\tif (this.currentAnimation) this.currentAnimation.kill();\n\n\t\tif (current) this.current = Utils.deepMerge(this.current, current) as TIteralable;\n\t\tthis.targets = Utils.deepMerge(this.targets, newTargets) as TIteralable;\n\n\n\t\tthis.currentAnimation = TweenLite.to(this.current, time, this.targets);\n\t\tthis.currentAnimation.eventCallback('onUpdate', cb);\n\t\tthis.currentAnimation.eventCallback('onComplete', () => {\n\t\t\tthis.current = {};\n\t\t\tthis.targets = {};\n\t\t\tthis.currentAnimation = null;\n\t\t});\n\t}\n\n}\n\nexport class TrendPoint {\n\tid: number;\n\tprevId: number;\n\tnextId: number;\n\thasValue: boolean;\n\txVal: number;\n\tyVal: number;\n\tstartXVal: number;\n\tendXVal: number;\n\tvector: Vector3;\n\tprivate trendPoints: TrendPoints;\n\t\n\tconstructor(trendPoints: TrendPoints, id: number, xVal: number, yVal: number) {\n\t\tthis.trendPoints = trendPoints;\n\t\tthis.id = id;\n\t\tthis.xVal = xVal;\n\t\tthis.yVal = yVal;\n\t}\n\t\n\tgetNext() {\n\t\tvar nextPoint = this.trendPoints.points[this.nextId];\n\t\treturn nextPoint && nextPoint.hasValue ? nextPoint : null;\n\t}\n\n\tgetPrev() {\n\t\tvar prevPoint = this.trendPoints.points[this.prevId];\n\t\treturn prevPoint && prevPoint.hasValue ? prevPoint : null;\n\t}\n\t\n\tgetFrameVal(): Vector3 {\n\t\tvar current = this.trendPoints.current;\n\t\tvar frameValX = current['x' + this.id];\n\t\tvar frameValY = current['y' + this.id];\n\t\tvar xVal = frameValX != void 0 ? frameValX : this.xVal;\n\t\tvar yVal = frameValY != void 0 ? frameValY : this.yVal;\n\t\treturn new Vector3(xVal, yVal, 0);\n\t}\n\n\tgetFramePoint(): Vector3 {\n\t\tvar frameVal = this.getFrameVal();\n\t\treturn this.trendPoints.chartState.screen.getPointOnChart(frameVal.x, frameVal.y);\n\t}\n\n\tgetCurrentVec(): Vector3 {\n\t\tvar current = this.trendPoints.current;\n\t\treturn new Vector3(current['x' + this.id], current['y' + this.id], 0);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/TrendPoints.ts\n **/","import PerspectiveCamera = THREE.PerspectiveCamera;\nimport Vector3 = THREE.Vector3;\nimport {ChartState, IChartState} from \"./State\";\nimport forestgreen = THREE.ColorKeywords.forestgreen;\nimport {EventEmitter} from './deps';\n\nexport interface IScreenTransformOptions {\n\tscrollXVal?: number,\n\tscrollYVal?: number,\n\tscrollX?: number,\n\tscrollY?: number,\n\tzoomX?: number,\n\tzoomY?: number\n}\n\n/**\n * manage camera, and contains methods for transforming pixels to values\n */\nexport class Screen {\n\tcamera: PerspectiveCamera;\n\toptions: IScreenTransformOptions = {scrollXVal: 0, scrollX: 0, scrollYVal: 0, scrollY: 0, zoomX: 1, zoomY: 1};\n\tprivate chartState: ChartState;\n\tprivate scrollXAnimation: TweenLite;\n\tprivate scrollYAnimation: TweenLite;\n\tprivate zoomXAnimation: TweenLite;\n\tprivate zoomYAnimation: TweenLite;\n\tprivate currentScrollX = {val: 0};\n\tprivate currentScrollY = {val: 0};\n\tprivate currentZoomX = {val: 1};\n\tprivate currentZoomY = {val: 1};\n\tprivate ee: EventEmitter2;\n\n\tconstructor(chartState: ChartState) {\n\t\tthis.chartState = chartState;\n\t\tvar {width: w, height: h} = chartState.data;\n\t\tthis.ee = new EventEmitter();\n\t\tthis.bindEvents();\n\n\t\t//camera.position.z = 1500;\n\t}\n\t\n\tgetCameraSettings() {\n\n\t\tvar {width: w, height: h} = this.chartState.data;\n\n\t\t// setup pixel-perfect camera\n\t\tvar FOV = 75;\n\t\tvar vFOV = FOV * (Math.PI / 180);\n\t\tvar camera = this.camera = new PerspectiveCamera(FOV, w / h, 0.1, 5000);\n\t\tcamera.position.z = h / (2 * Math.tan(vFOV / 2) );\n\t\t\n\t\treturn {\n\t\t\tFOV: FOV,\n\t\t\taspect: w / h,\n\t\t\tnear: 0.1,\n\t\t\tfar: 5000,\n\t\t\tz: h / (2 * Math.tan(vFOV / 2) ),\n\n\t\t\t// move 0,0 to left-bottom corner\n\t\t\tx: w / 2,\n\t\t\ty: h / 2\n\t\t}\n\t}\n\n\tonCameraChange(cb: (x: number, y: number) => void ): Function {\n\t\tthis.ee.on('cameraChange', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('cameraChange', cb);\n\t\t}\n\t}\n\n\tonZoomFrame(cb: (zoomX: number, zoomY: number) => void): Function {\n\t\tvar eventName = 'zoomFrame';\n\t\tthis.ee.on(eventName, cb);\n\t\treturn () => {\n\t\t\tthis.ee.removeListener(eventName, cb);\n\t\t}\n\t}\n\n\tonScrollFrame(cb: (options: IScreenTransformOptions) => void): Function {\n\t\tvar eventName = 'scrollFrame';\n\t\tthis.ee.on(eventName, cb);\n\t\treturn () => {\n\t\t\tthis.ee.removeListener(eventName, cb);\n\t\t}\n\t}\n\n\tonTransformationFrame(cb: (options: IScreenTransformOptions) => void): Function {\n\t\tvar eventName = 'transformationFrame';\n\t\tthis.ee.on(eventName, cb);\n\t\treturn () => {\n\t\t\tthis.ee.removeListener(eventName, cb);\n\t\t}\n\t}\n\n\ttransform (options: IScreenTransformOptions) {\n\t\tvar {scrollXVal, scrollYVal, zoomX, zoomY} = options;\n\t\t\n\t\tif (scrollXVal != void 0) this.options.scrollXVal = scrollXVal;\n\t\tif (scrollYVal != void 0) this.options.scrollYVal = scrollYVal;\n\t\tif (zoomX != void 0) this.options.zoomX = zoomX;\n\t\tif (zoomY != void 0) this.options.zoomY = zoomY;\n\t\t\n\t\tif (scrollXVal != void 0 || zoomX) {\n\t\t\toptions.scrollX = this.valueToPxByXAxis(scrollXVal != void 0 ? scrollXVal : this.options.scrollXVal);\n\t\t\tthis.options.scrollX = options.scrollX;\n\t\t}\n\n\t\tif (scrollYVal != void 0 || zoomY) {\n\t\t\toptions.scrollY = this.valueToPxByYAxis(scrollYVal != void 0 ? scrollYVal : this.options.scrollYVal);\n\t\t\tthis.options.scrollY = options.scrollY;\n\t\t}\n\t\t\n\t\tthis.ee.emit('transformationFrame', options);\n\t\t\n\t\tif (options.scrollXVal != void 0 || options.scrollYVal != void 0) {\n\t\t\tthis.ee.emit('scrollFrame', options);\n\t\t}\n\t\t\n\t\tif (options.zoomX != void 0 || options.zoomY != void 0) {\n\t\t\tthis.ee.emit('zoomFrame', options);\n\t\t}\n\t}\n\n\tprivate scrollTo(x: number, y?: number) {\n\t\t//\n\t\t// if (scrollX != void 0) {\n\t\t// \tthis.cameraScrollX = scrollX;\n\t\t// \t//var pointX = this.cameraInitialPosition.scrollX + this.chartState.valueToPxByXAxis(scrollX);\n\t\t// \tthis.camera.position.scrollX = this.cameraInitialPosition.scrollX + scrollX;\n\t\t// }\n\t\t//\n\t\t// if (scrollY != void 0) {\n\t\t// \tthis.cameraScrollY = scrollY;\n\t\t// \t//var pointY = this.cameraInitialPosition.scrollY + this.chartState.valueToPxByYAxis(scrollY);\n\t\t// \tthis.camera.position.scrollY = this.cameraInitialPosition.scrollY + scrollY;\n\t\t// }\n\t\t//\n\t\t// // dirty hack, used only for performance reasons, in ideal world we always must use ChartState.setState\n\t\t// // this.chartState.emit('cameraChange', {scrollX: scrollX, scrollY: scrollY});\n\t\tthis.ee.emit('cameraChange', x, y);\n\t}\n\n\tprivate bindEvents() {\n\t\tvar state = this.chartState;\n\n\t\t// handle scroll and zoom\n\t\tstate.onChange((changedProps) => {\n\t\t\tif (changedProps.xAxis && changedProps.xAxis.range) {\n\t\t\t\tif (changedProps.xAxis.range.scroll != void 0) this.onScrollXHandler(changedProps);\n\t\t\t\tif (changedProps.xAxis.range.zoom) this.onZoomXHandler();\n\t\t\t}\n\t\t\tif (changedProps.yAxis && changedProps.yAxis.range){\n\t\t\t\tif (changedProps.yAxis.range.scroll != void 0) this.onScrollYHandler();\n\t\t\t\tif (changedProps.yAxis.range.zoom) this.onZoomYHandler();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate onScrollXHandler(changedProps: IChartState) {\n\t\tvar state = this.chartState;\n\t\tvar isDragMode = state.data.cursor.dragMode;\n\t\tvar animations =  state.data.animations;\n\t\tvar canAnimate = animations.enabled && !isDragMode;\n\t\tvar zoomXChanged = changedProps.xAxis.range.zoom;\n\t\tvar isAutoscroll = !isDragMode && !zoomXChanged;\n\t\tvar time = isAutoscroll ? animations.autoScrollSpeed : animations.zoomSpeed;\n\t\tvar ease = isAutoscroll ? animations.autoScrollEase : animations.zoomEase;\n\t\tvar targetXVal = state.data.xAxis.range.scroll;\n\t\tif (this.scrollXAnimation) this.scrollXAnimation.pause();\n\n\t\tvar cb = () => {\n\t\t\tthis.transform({scrollXVal: this.currentScrollX.val});\n\t\t};\n\n\t\tif (canAnimate) {\n\t\t\tthis.scrollXAnimation = TweenLite.to(this.currentScrollX, time, {\n\t\t\t\tval: targetXVal, ease: ease\n\t\t\t});\n\t\t\tthis.scrollXAnimation.eventCallback('onUpdate', cb);\n\t\t} else {\n\t\t\tthis.currentScrollX.val = targetXVal;\n\t\t\tcb();\n\t\t}\n\n\t}\n\n\tprivate onScrollYHandler() {\n\t\tvar state = this.chartState;\n\t\tvar animations =  state.data.animations;\n\t\tvar canAnimate = animations.enabled;\n\t\tvar time = animations.zoomSpeed;\n\t\tvar targetYVal = state.data.yAxis.range.scroll;\n\t\tif (this.scrollXAnimation) this.scrollXAnimation.pause();\n\n\t\tvar cb = () => {\n\t\t\tthis.transform({scrollYVal: this.currentScrollY.val});\n\t\t};\n\n\t\tif (canAnimate) {\n\t\t\tthis.scrollYAnimation = TweenLite.to(this.currentScrollY, time, {\n\t\t\t\tval: targetYVal, ease: animations.zoomEase\n\t\t\t});\n\t\t\tthis.scrollYAnimation.eventCallback('onUpdate', cb);\n\t\t} else {\n\t\t\tthis.currentScrollY.val = targetYVal;\n\t\t\tcb();\n\t\t}\n\t}\n\n\tprivate onZoomXHandler() {\n\t\tvar state = this.chartState;\n\t\tvar animations =  state.data.animations;\n\t\tvar canAnimate = animations.enabled;\n\t\tvar time = animations.zoomSpeed;\n\t\tvar targetZoom = state.data.xAxis.range.zoom;\n\t\tif (this.zoomXAnimation) this.zoomXAnimation.pause();\n\n\t\tvar cb = () => {\n\t\t\tthis.transform({zoomX: this.currentZoomX.val});\n\t\t};\n\n\t\tif (canAnimate) {\n\t\t\tthis.zoomXAnimation = TweenLite.to(this.currentZoomX, time, {\n\t\t\t\tval: targetZoom, ease: animations.zoomEase\n\t\t\t});\n\t\t\tthis.zoomXAnimation.eventCallback('onUpdate', cb);\n\t\t} else {\n\t\t\tthis.currentZoomX.val = targetZoom;\n\t\t\tcb();\n\t\t}\n\t}\n\n\tprivate onZoomYHandler() {\n\t\tvar state = this.chartState;\n\t\tvar animations =  state.data.animations;\n\t\tvar canAnimate = animations.enabled;\n\t\tvar time = animations.zoomSpeed;\n\t\tvar targetZoom = state.data.yAxis.range.zoom;\n\t\tif (this.zoomYAnimation) this.zoomYAnimation.pause();\n\n\t\tvar cb = () => {\n\t\t\tthis.transform({zoomY: this.currentZoomY.val});\n\t\t};\n\n\t\tif (canAnimate) {\n\t\t\tthis.zoomYAnimation = TweenLite.to(this.currentZoomY, time, {\n\t\t\t\tval: targetZoom, ease: animations.zoomEase\n\t\t\t});\n\t\t\tthis.zoomYAnimation.eventCallback('onUpdate', cb);\n\t\t} else {\n\t\t\tthis.currentZoomY.val = targetZoom;\n\t\t\tcb();\n\t\t}\n\t}\n\n\tprivate onScroll(changedProps: IChartState) {\n\t\t// var state = this.chartState;\n\t\t// var isDragMode = state.data.cursor.dragMode;\n\t\t// var animations =  state.data.animations;\n\t\t// var targetScrollX = state.valueToPxByXAxis(state.data.xAxis.range.scroll);\n\t\t// var targetScrollY = state.valueToPxByYAxis(state.data.yAxis.range.scroll);\n\t\t// var scrollXChanged = targetScrollX !== state.data.prevState.xAxis.range.scroll;\n\t\t// var scrollYChanged = targetScrollY !== state.data.prevState.yAxis.range.scroll;\n\t\t// var zoomXChanged = changedProps.xAxis && changedProps.xAxis.range && changedProps.xAxis.range.zoom != void 0;\n\t\t// var canAnimate = animations.enabled;\n\t\t//\n\t\t//\n\t\t// if (scrollYChanged) {\n\t\t// \tif (this.scrollYAnimation) this.scrollYAnimation.pause();\n\t\t// \tthis.currentScrollY = this.currentScrollY || {val: this.cameraScrollY};\n\t\t// \tif (canAnimate) {\n\t\t// \t\tthis.scrollYAnimation = TweenLite.to(this.currentScrollY, animations.zoomSpeed, {\n\t\t// \t\t\tval: targetScrollY, ease: animations.zoomEase\n\t\t// \t\t});\n\t\t// \t\tthis.scrollYAnimation.eventCallback('onUpdate', () => {\n\t\t// \t\t\tthis.scrollTo(null, this.currentScrollY.val);\n\t\t// \t\t});\n\t\t// \t} else {\n\t\t// \t\tthis.currentScrollY.val = targetScrollY;\n\t\t// \t\tthis.scrollTo(null, targetScrollY);\n\t\t// \t}\n\t\t// }\n\t\t//\n\t\t// if (scrollXChanged) {\n\t\t// \tcanAnimate = canAnimate && !isDragMode && !zoomXChanged;\n\t\t// \tif (this.scrollXAnimation) this.scrollXAnimation.pause();\n\t\t// \tthis.currentScrollX = this.currentScrollX || {val: this.cameraScrollX};\n\t\t// \tif (canAnimate) {\n\t\t// \t\tthis.scrollXAnimation = TweenLite.to(this.currentScrollX, animations.autoScrollSpeed, {\n\t\t// \t\t\tval: targetScrollX, ease: animations.autoScrollEase\n\t\t// \t\t});\n\t\t// \t\tthis.scrollXAnimation.eventCallback('onUpdate', () => {\n\t\t// \t\t\tthis.scrollTo(this.currentScrollX.val);\n\t\t// \t\t});\n\t\t// \t} else {\n\t\t// \t\tthis.currentScrollX.val = targetScrollX;\n\t\t// \t\tthis.scrollTo(targetScrollX);\n\t\t// \t}\n\t\t// }\n\t\t// //canAnimate = false;\n\t\t// this.currentScroll = this.currentScroll || {scrollXVal: this.cameraScrollXVal, scrollYVal: this.cameraScrollYVal};\n\t\t// var targetXVal = state.data.xAxis.range.scroll;\n\t\t// var targetYVal = state.data.yAxis.range.scroll;\n\t\t// if (this.cameraAnimation) this.cameraAnimation.pause();\n\t\t// if (canAnimate) {\n\t\t// \tthis.cameraAnimation = TweenLite.to(this.currentScroll, animations.autoScrollSpeed, {\n\t\t// \t\tscrollXVal: targetXVal, scrollYVal: targetYVal, ease: animations.autoScrollEase\n\t\t// \t});\n\t\t// \tthis.cameraAnimation.eventCallback('onUpdate', () => {\n\t\t// \t\tthis.scrollTo(this.currentScroll.scrollXVal, this.currentScroll.scrollYVal);\n\t\t// \t});\n\t\t// \treturn;\n\t\t// }\n\t\t// this.scrollTo(targetXVal, targetYVal);\n\t}\n\n\n\t/**\n\t *  returns offset in pixels from xAxis.range.zeroVal to scrollXVal\n\t */\n\tgetPointOnXAxis(xVal: number): number {\n\t\tvar {scaleFactor, zeroVal} = this.chartState.data.xAxis.range;\n\t\tvar zoom = this.options.zoomX;\n\t\treturn (xVal - zeroVal) * scaleFactor * zoom;\n\t}\n\n\t/**\n\t *  returns offset in pixels from yAxis.range.zeroVal to scrollYVal\n\t */\n\tgetPointOnYAxis(yVal: number): number {\n\t\tvar {scaleFactor, zeroVal} =  this.chartState.data.yAxis.range;\n\t\tvar zoom = this.options.zoomY;\n\t\treturn (yVal - zeroVal) * scaleFactor * zoom;\n\t}\n\n\t/**\n\t *  returns offset in pixels from xAxis.range.zeroVal and from yAxis.range.zeroVal to scrollXVal and scrollYVal\n\t */\n\tgetPointOnChart(xVal: number, yVal: number): Vector3 {\n\t\treturn new Vector3(this.getPointOnXAxis(xVal), this.getPointOnYAxis(yVal), 0);\n\t}\n\t\n\t/**\n\t * returns value by offset in pixels from xAxis.range.zeroVal\n\t */\n\tgetValueOnXAxis(x: number): number {\n\t\treturn this.chartState.data.xAxis.range.zeroVal + this.pxToValueByXAxis(x);\n\t}\n\n\n\t/**\n\t *  convert value to pixels by using settings from xAxis.range\n\t */\n\tvalueToPxByXAxis(xVal: number) {\n\t\treturn xVal * this.chartState.data.xAxis.range.scaleFactor * this.options.zoomX;\n\t}\n\n\n\t/**\n\t *  convert value to pixels by using settings from yAxis.range\n\t */\n\tvalueToPxByYAxis(yVal: number) {\n\t\treturn yVal * this.chartState.data.yAxis.range.scaleFactor * this.options.zoomY;\n\t}\n\t\n\t/**\n\t *  convert pixels to value by using settings from xAxis.range\n\t */\n\tpxToValueByXAxis(xVal: number) {\n\t\treturn xVal / this.chartState.data.xAxis.range.scaleFactor / this.options.zoomX;\n\t}\n\n\n\t/**\n\t *  convert pixels to value by using settings from yAxis.range\n\t */\n\tpxToValueByYAxis(yVal: number) {\n\t\treturn yVal / this.chartState.data.yAxis.range.scaleFactor / this.options.zoomY;\n\t}\n\n\n\t/**\n\t *  returns scrollX value by screen scrollX coordinate\n\t */\n\tgetValueByScreenX(x: number): number {\n\t\treturn this.chartState.data.xAxis.range.zeroVal + this.options.scrollXVal + this.pxToValueByXAxis(x);\n\t}\n\t\n\t\n\t/**\n\t *  returns scrollY value by screen scrollY coordinate\n\t */\n\tgetValueByScreenY(y: number): number {\n\t\treturn this.chartState.data.yAxis.range.zeroVal + this.options.scrollYVal + this.pxToValueByYAxis(y);\n\t}\n\t\n\t//\n\t/**\n\t *  returns screen scrollX value by screen scrollY coordinate\n\t */\n\tgetScreenXByValue(xVal: number): number {\n\t\tvar {scroll, zeroVal} = this.chartState.data.xAxis.range;\n\t\treturn this.valueToPxByXAxis(xVal - zeroVal - scroll)\n\t}\n\n\t// /**\n\t//  *  returns screen scrollY value by screen scrollY coordinate\n\t//  */\n\t// getScreenYByValue(scrollYVal: number): number {\n\t// \tvar {scroll, zeroVal} = this.data.yAxis.range;\n\t// \treturn this.valueToPxByYAxis(scrollYVal - zeroVal - scroll)\n\t// }\n\t//\n\t//\n\t/**\n\t * returns screen scrollX coordinate by offset in pixels from xAxis.range.zeroVal value\n\t */\n\tgetScreenXByPoint(xVal: number): number {\n\t\treturn this.getScreenXByValue(this.getValueOnXAxis(xVal));\n\t}\n\n\n\t/**\n\t * returns offset in pixels from xAxis.range.zeroVal value by screen scrollX coordinate\n\t */\n\tgetPointByScreenX(screenX: number): number {\n\t\treturn this.getPointOnXAxis(this.getValueByScreenX(screenX));\n\t}\n\n\t/**\n\t * returns offset in pixels from yAxis.range.zeroVal value by screen scrollY coordinate\n\t */\n\tgetPointByScreenY(screenY: number): number {\n\t\treturn this.getPointOnYAxis(this.getValueByScreenY(screenY));\n\t}\n\t\n\tgetBottom(): number {\n\t\treturn this.getPointByScreenY(0);\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/Screen.ts\n **/","\nimport {ChartState} from \"./State\";\nimport {Utils} from \"./Utils\";\nimport {AXIS_TYPE, TEase} from \"./interfaces\";\nimport {ITrendData, ITrendOptions} from \"./Trend\";\nimport {EventEmitter} from './deps';\n\nexport interface IAxisMarkUpdateOptions {\n\tvalue: number\n}\n\nexport interface IAxisMarkOptions extends IAxisMarkUpdateOptions {\n\tname?: string,\n\ttitle?: string,\n\ttype?: string\n\tlineColor?: string\n\tlineWidth?: number\n}\n\nconst AXIS_MARK_DEFAULT_OPTIONS: IAxisMarkOptions = {\n\ttype: 'simple',\n\tlineWidth: 2,\n\tvalue: 0\n};\n\nexport class AxisMarks {\n\tprivate chartState: ChartState;\n\tprivate axisType: AXIS_TYPE;\n\tprivate ee: EventEmitter2;\n\tprivate items: {[name: string]: AxisMark} = {};\n\n\tconstructor(chartState: ChartState, axisType: AXIS_TYPE) {\n\t\tif (axisType == AXIS_TYPE.Y) {\n\t\t\t// TODO: axis mark on Y axis\n\t\t\tUtils.error('axis mark on Y axis not supported yet');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.chartState = chartState;\n\t\tthis.ee = new EventEmitter();\n\t\tthis.axisType = axisType;\n\t\tvar marks = this.items;\n\t\tvar axisMarksOptions = chartState.data.xAxis.marks;\n\t\t\n\t\tfor (let options of axisMarksOptions) {\n\t\t\tlet axisMark: AxisMark;\n\t\t\toptions = Utils.deepMerge(AXIS_MARK_DEFAULT_OPTIONS, options);\n\t\t\t\n\t\t\t// set mark name\n\t\t\tif (!options.name) options.name = Utils.getUid().toString();\n\t\t\tif (marks[options.name]) Utils.error('duplicated mark name ' + options.name);\n\t\t\t\n\t\t\t// create mark instance based on type option\n\t\t\tif (options.type == 'timeleft') {\n\t\t\t\taxisMark = new AxisTimeleftMark(chartState, AXIS_TYPE.X, options);\n\t\t\t} else {\n\t\t\t\taxisMark = new AxisMark(chartState, AXIS_TYPE.X, options);\n\t\t\t}\n\t\t\tmarks[options.name] = axisMark;\n\t\t}\n\t\tthis.bindEvents();\n\t}\n\n\tprivate onTrendChange(trendName: string, newData: ITrendData) {\n\t\tif (!newData) return;\n\t\tvar startVal = newData[0].xVal;\n\t\tvar endVal = newData[newData.length - 1].xVal;\n\t\tvar marks = this.items;\n\n\t\tfor (let markName in marks) {\n\t\t\tlet mark = marks[markName];\n\t\t\tlet markVal = mark.options.value;\n\t\t\tlet markWasCrossed = (startVal == markVal || endVal == markVal || (startVal < markVal && endVal > markVal));\n\t\t\tif (markWasCrossed) this.ee.emit('markCrossed', trendName, newData);\n\t\t}\n\t}\n\n\tprotected bindEvents() {\n\t\tthis.chartState.onTrendChange((trendName: string, changedOptions: ITrendOptions, newData: ITrendData) => this.onTrendChange(trendName, newData));\n\t}\n\n\tgetItems() {\n\t\treturn this.items;\n\t}\n\t\n\tgetItem(markName: string) {\n\t\treturn this.items[markName];\n\t}\n\n}\n\nexport class AxisMark {\n\tstatic typeName = 'simple';\n\toptions: IAxisMarkOptions;\n\taxisType: AXIS_TYPE;\n\tprotected chartState: ChartState;\n\tprotected renderOnTrendsChange = false;\n\tprotected ee: EventEmitter2;\n\n\tconstructor(chartState: ChartState, axisType: AXIS_TYPE, options: IAxisMarkOptions) {\n\n\t\tif (axisType == AXIS_TYPE.Y) {\n\t\t\t// TODO: axis mark on Y axis\n\t\t\tUtils.error('axis mark on Y axis not supported yet');\n\t\t}\n\n\t\tthis.ee = new EventEmitter();\n\t\tthis.options = options;\n\t\tthis.axisType = axisType;\n\t\tthis.chartState = chartState;\n\t\tthis.bindEvents();\n\t}\n\t\n\tprotected bindEvents() {}\n\n\tsetOptions(newOptions: IAxisMarkUpdateOptions) {\n\t\tvar value = this.options.value;\n\t\tthis.options = Utils.deepMerge(this.options, newOptions);\n\t\tif (this.options.value !== value) this.ee.emit('valueChange');\n\t\tthis.ee.emit('onDisplayedValueChange');\n\t}\n\n\tgetDisplayedVal(): string {\n\t\treturn String(this.options.value);\n\t}\n\n\tonMarkCrossed(cb: (trendName: string, newData: ITrendData) => void): Function {\n\t\tthis.ee.on('markCrossed', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('markCrossed', cb);\n\t\t}\n\t}\n\n\tonValueChange(cb: () => void) {\n\t\tthis.ee.on('valueChange', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('valueChange', cb);\n\t\t}\n\t}\n\n\tonDisplayedValueChange(cb: () => void) {\n\t\tthis.ee.on('onDisplayedValueChange', cb);\n\t\treturn () => {\n\t\t\tthis.ee.off('onDisplayedValueChange', cb);\n\t\t}\n\t}\n}\n\nexport class AxisTimeleftMark extends AxisMark {\n\tstatic typeName = 'timeleft';\n\tprotected renderOnTrendsChange = true;\n\t\n\tgetDisplayedVal(): string {\n\t\tvar markVal = this.options.value;\n\t\tvar maxXVal = this.chartState.data.computedData.trends.maxXVal;\n\t\tvar time = markVal - maxXVal;\n\t\tif (time < 0) time = 0;\n\t\treturn Utils.msToTimeString(time);\n\t}\n\n\tprotected bindEvents() {\n\t\tthis.chartState.onTrendsChange(() => this.onTrendsChange());\n\t}\n\n\tprotected onTrendsChange() {\n\t\tthis.ee.emit('onDisplayedValueChange');\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/AxisMarks.ts\n **/","\n\n/**\n * defines how axis range will be calculated\n * FIXED - directly use range.from and range.to value\n * AUTO - automatically sets range.from and range.to by visible part of opposite axis\n * RELATIVE_END - same as AUTO but trend end always present in range\n * ALL - automatically sets range.from and range.to by all values of opposite axis\n */\nimport {IAxisMarkOptions} from \"./AxisMarks\";\nexport enum AXIS_RANGE_TYPE {\n\tFIXED,\n\tRELATIVE_END,\n\tAUTO,\n\tALL // TODO: AXIS_RANGE_TYPE.ALL\n}\n\n/**\n * Animation ease type\n */\nexport declare type TEase = Ease | Linear;\n\nexport declare type TIteralable = {[key: string]: any};\n\nexport enum AXIS_TYPE {X, Y}\n\nexport interface IAxisRange {\n\ttype?: AXIS_RANGE_TYPE,\n\tfrom?: number,\n\tto?: number,\n\tzoom?: number,\n\tscroll?: number,\n\tpadding?: {\n\t\tstart?: number,\n\t\tend?: number\n\t},\n\n\tmaxLength?: number;\n\tminLength?: number;\n\n\t/** only for internal usage **/\n\tzeroVal?: number,\n\n\t/** only for internal usage **/\n\tscaleFactor?: number,\n}\n\nexport enum AXIS_DATA_TYPE {NUMBER, DATE}\n\nexport interface IAxisOptions {\n\trange: IAxisRange;\n\tdataType?: AXIS_DATA_TYPE;\n\tgridMinSize?: number;\n\tautoScroll?: boolean;\n\tmarks?: IAxisMarkOptions[];\n}\n\nexport interface IAnimationsOptions {\n\tenabled?: boolean,\n\ttrendChangeSpeed?: number,\n\ttrendChangeEase?: TEase,\n\tautoScrollSpeed?: number,\n\tautoScrollEase?: TEase,\n\tzoomSpeed?: number,\n\tzoomEase?: TEase,\n}\n\nexport interface PromiseExecutor<T> {\n\t(resolve: (data: T) => void, reject: (data: T) => void): void;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/interfaces.ts\n **/","\nimport Object3D = THREE.Object3D;\nimport {ChartState} from \"../State\";\nimport {Utils} from \"../Utils\";\nimport Mesh = THREE.Mesh;\nimport PlaneBufferGeometry = THREE.PlaneBufferGeometry;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport Vector3 = THREE.Vector3;\nimport {TrendWidget, TrendsWidget} from \"./TrendsWidget\";\nimport {ITrendOptions} from \"../Trend\";\nimport {TrendPoints, TrendPoint} from \"../TrendPoints\";\nimport chartreuse = THREE.ColorKeywords.chartreuse;\n\n/**\n * widget adds blinking beacon on trends end\n * activated when trend.hasBeacon = true\n */\nexport class TrendsBeaconWidget extends TrendsWidget<TrendBeacon> {\n\tstatic widgetName = 'TrendsBeacon';\n\tprotected getTrendWidgetClass() {\n\t\treturn TrendBeacon;\n\t}\n}\n\nexport class TrendBeacon extends TrendWidget {\n\tprivate mesh: Mesh;\n\tprivate animated: boolean;\n\tprivate point: TrendPoint;\n\n\tstatic widgetIsEnabled(trendOptions: ITrendOptions) {\n\t\treturn trendOptions.enabled && trendOptions.hasBeacon;\n\t}\n\n\tconstructor(state: ChartState, trendName: string) {\n\t\tsuper(state, trendName);\n\t\tthis.animated = state.data.animations.enabled;\n\n\t\tthis.initObject();\n\t\tif (this.animated) {\n\t\t\tthis.animate();\n\t\t}\n\t}\n\n\tgetObject3D() {\n\t\treturn this.mesh;\n\t}\n\tprotected bindEvents() {\n\t\tsuper.bindEvents();\n\t\tthis.bindEvent(this.chartState.onScroll(() => this.updatePosition()));\n\t}\n\n\tprivate initObject() {\n\t\t\n\t\t// add beacon\n\t\tlet light = this.mesh = new Mesh(\n\t\t\tnew PlaneBufferGeometry(32, 32),\n\t\t\tnew MeshBasicMaterial({map: TrendBeacon.createTexture(), transparent: true})\n\t\t);\n\t\t\n\t\tif (this.animated) {\n\t\t\tlight.scale.set(0.1, 0.1, 1);\n\t\t} else {\n\t\t\tlight.scale.set(0.2, 0.2, 1);\n\t\t}\n\n\t\t// add dot\n\t\tlight.add(new Mesh(\n\t\t\tnew PlaneBufferGeometry(5, 5),\n\t\t\tnew MeshBasicMaterial({map: TrendBeacon.createTexture()})\n\t\t));\n\t\n\n\t}\n\n\tprivate animate() {\n\t\tvar object = this.mesh;\n\t\tvar animationObject = {\n\t\t\tscale: object.scale.x,\n\t\t\topacity: object.material.opacity\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tvar animation = TweenLite.to(\n\t\t\t\tanimationObject,\n\t\t\t\t1,\n\t\t\t\t{scale: 1, opacity: 0}\n\t\t\t).eventCallback('onUpdate', () => {\n\t\t\t\tobject.scale.set(animationObject.scale, animationObject.scale, 1);\n\t\t\t\tobject.material.opacity = animationObject.opacity\n\t\t\t}).eventCallback('onComplete', () => {\n\t\t\t\tanimation.restart();\n\t\t\t});\n\t\t}, 500);\n\t\n\t}\n\n\tprivate static createTexture() {\n\t\tvar h = 32, w = 32;\n\t\treturn Utils.createTexture(h, w, (ctx: CanvasRenderingContext2D) => {\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(w / 2, h / 2, w / 2, 0, 2 * Math.PI, false);\n\t\t\tctx.fillStyle = 'white';\n\t\t\tctx.fill();\n\t\t});\n\t}\n\n\tprotected onTransformationFrame() {\n\t\tthis.point = this.trend.points.getEndPoint();\n\t\tthis.updatePosition();\n\t}\n\n\tprotected onPointsMove(trendPoints: TrendPoints) {\n\t\tthis.point = trendPoints.getEndPoint();\n\t\tthis.updatePosition();\n\t}\n\n\tprivate updatePosition() {\n\t\tvar state = this.chartState;\n\t\tvar endPointVector = this.point.getFramePoint();\n\t\tvar screenWidth = state.data.width;\n\t\tvar x = endPointVector.x;\n\t\tvar screenX = state.screen.getScreenXByPoint(endPointVector.x);\n\t\tif (screenX < 0) x = state.screen.getPointByScreenX(0);\n\t\tif (screenX > screenWidth) x = state.screen.getPointByScreenX(screenWidth);\n\t\tthis.mesh.position.set(x, endPointVector.y, 0.1);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/TrendsBeaconWidget.ts\n **/","import Geometry = THREE.Geometry;\nimport Mesh = THREE.Mesh;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport Material = THREE.Material;\nimport Vector3 = THREE.Vector3;\nimport Line = THREE.Line;\nimport Object3D = THREE.Object3D;\nimport UVMapping = THREE.UVMapping;\nimport GridHelper = THREE.GridHelper;\nimport {ChartWidget} from \"../Widget\";\nimport {ChartState} from \"../State\";\nimport {GridWidget, IGridParamsForAxis} from \"./GridWidget\";\nimport {Utils} from \"../Utils\";\nimport PlaneGeometry = THREE.PlaneGeometry;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport OrthographicCamera = THREE.OrthographicCamera;\nimport {IScreenTransformOptions} from \"../Screen\";\nimport {AXIS_TYPE, AXIS_DATA_TYPE, IAxisOptions} from \"../interfaces\";\n\n/**\n * widget for drawing axis\n */\nexport class AxisWidget extends ChartWidget {\n\tstatic widgetName = 'Axis';\n\tprivate object3D: Object3D;\n\tprivate axisXObject: Object3D;\n\tprivate axisYObject: Object3D;\n\tprivate updateAxisXRequest: () => void;\n\t\n\tconstructor (state: ChartState) {\n\t\tsuper(state);\n\t\tthis.object3D = new Object3D();\n\t\tthis.axisXObject = new Object3D();\n\t\tthis.axisYObject = new Object3D();\n\t\tthis.object3D.add(this.axisXObject);\n\t\tthis.object3D.add(this.axisYObject);\n\t\tthis.initAxis(AXIS_TYPE.X);\n\t\tthis.initAxis(AXIS_TYPE.Y);\n\n\t\t// canvas drawing is expensive operation, so when we scroll, redraw must be called only once per second\n\t\tthis.updateAxisXRequest = Utils.throttle(() => this.updateAxis(AXIS_TYPE.X), 1000);\n\t}\n\n\tbindEvents() {\n\t\tvar state = this.chartState;\n\t\tstate.screen.onTransformationFrame((options) => {\n\t\t\tthis.onScrollChange(options.scrollX, options.scrollY);\n\t\t});\n\t\tstate.screen.onZoomFrame((options) => {this.onZoomFrame(options)});\n\t}\n\n\tprivate onScrollChange(x: number, y: number) {\n\n\t\tif (y != void 0) {\n\t\t\tthis.axisYObject.position.y = y;\n\t\t\tthis.axisXObject.position.y = y;\n\t\t}\n\n\t\tif (x != void 0) {\n\t\t\tthis.axisYObject.position.x = x;\n\t\t\tthis.updateAxisXRequest();\n\t\t}\n\n\t}\n\n\tprivate initAxis(orientation: AXIS_TYPE) {\n\t\t\n\t\tvar isXAxis = orientation == AXIS_TYPE.X;\n\t\tvar {width: visibleWidth, height: visibleHeight} = this.chartState.data;\n\t\tvar canvasWidth = 0, canvasHeight = 0;\n\n\t\tif (isXAxis) {\n\t\t\tcanvasWidth = visibleWidth * 3;\n\t\t\tcanvasHeight = 50;\n\t\t} else {\n\t\t\tcanvasWidth = 50;\n\t\t\tcanvasHeight = visibleHeight * 3;\n\t\t}\n\n\t\tvar texture = Utils.createTexture(canvasWidth, canvasHeight, (ctx) => {\n\t\t\tctx.beginPath();\n\t\t\tctx.font = \"10px Arial\";\n\t\t\tctx.fillStyle = \"rgba(255,255,255,0.3)\";\n\t\t\tctx.strokeStyle = \"rgba(255,255,255,0.1)\";\n\t\t});\n\n\t\ttexture.magFilter = THREE.NearestFilter;\n\t\ttexture.minFilter = THREE.NearestFilter;\n\n\t\tvar material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.FrontSide} );\n\t\tmaterial.transparent = true;\n\n\t\tvar axisMesh = new Mesh(\n\t\t\tnew THREE.PlaneGeometry(canvasWidth, canvasHeight),\n\t\t\tmaterial\n\t\t);\n\n\t\tif (isXAxis) {\n\t\t\taxisMesh.position.set(canvasWidth / 2, canvasHeight / 2, 0);\n\t\t\tthis.axisXObject.add(axisMesh);\n\t\t} else {\n\t\t\taxisMesh.position.set(visibleWidth - canvasWidth / 2, canvasHeight / 2, 0);\n\t\t\tthis.axisYObject.add(axisMesh);\n\t\t}\n\n\t\tthis.updateAxis(orientation);\n\n\t}\n\t\n\tgetObject3D(): Object3D {\n\t\treturn this.object3D;\n\t}\n\n\tprivate updateAxis(orientation: AXIS_TYPE) {\n\t\tvar isXAxis = orientation == AXIS_TYPE.X;\n\t\tvar {width: visibleWidth, height: visibleHeight} = this.chartState.data;\n\t\tvar {scrollX, scrollXVal, scrollY, scrollYVal, zoomX, zoomY} = this.chartState.screen.options;\n\t\tvar axisOptions: IAxisOptions;\n\t\tvar axisMesh: Mesh;\n\t\tvar axisGridParams: IGridParamsForAxis;\n\n\t\tif (isXAxis) {\n\t\t\taxisMesh = this.axisXObject.children[0] as Mesh;\n\t\t\taxisOptions = this.chartState.data.xAxis;\n\t\t\taxisGridParams = GridWidget.getGridParamsForAxis(axisOptions, visibleWidth, scrollXVal, zoomX);\n\t\t} else {\n\t\t\taxisMesh = this.axisYObject.children[0] as Mesh;\n\t\t\taxisOptions = this.chartState.data.yAxis;\n\t\t\taxisGridParams = GridWidget.getGridParamsForAxis(axisOptions, visibleHeight, scrollYVal, zoomY);\n\t\t}\n\n\t\tvar geometry = axisMesh.geometry as PlaneGeometry;\n\t\tvar canvasWidth = geometry.parameters.width;\n\t\tvar canvasHeight = geometry.parameters.height;\n\t\tvar texture = (axisMesh.material as MeshBasicMaterial).map;\n\t\tvar ctx = texture.image.getContext('2d');\n\t\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n\t\tif (isXAxis) {\n\t\t\taxisMesh.position.x = canvasWidth / 2 - visibleWidth + scrollX;\n\t\t}\n\n\n\t\t// TODO: draw text and lines in different loops\n\t\tvar edgeOffset = axisGridParams.segmentsCount * axisGridParams.step;\n\t\tvar startVal = axisGridParams.start  - edgeOffset;\n\t\tvar endVal = axisGridParams.end + edgeOffset;\n\n\t\tctx.beginPath();\n\t\tfor (let val = startVal; val <= endVal; val += axisGridParams.step) {\n\t\t\tlet displayedValue = '';\n\t\t\tif (isXAxis) {\n\t\t\t\tlet pxVal = this.chartState.screen.getPointOnXAxis(val) - scrollX + visibleWidth;\n\t\t\t\tctx.textAlign = \"center\";\n\t\t\t\t// uncomment for dots\n\t\t\t\t// ctx.moveTo(pxVal + 0.5, canvasHeight);\n\t\t\t\t// ctx.lineTo(pxVal + 0.5, canvasHeight - 5);\n\t\t\t\tif (axisOptions.dataType == AXIS_DATA_TYPE.DATE) {\n\t\t\t\t\tdisplayedValue = AxisWidget.getDateStr(val, axisGridParams);\n\t\t\t\t} else {\n\t\t\t\t\tdisplayedValue = Number(val.toFixed(14)).toString();\n\t\t\t\t}\n\n\t\t\t\tctx.fillText(displayedValue, pxVal, canvasHeight - 10);\n\t\t\t} else {\n\t\t\t\tlet pxVal = canvasHeight - this.chartState.screen.getPointOnYAxis(val) + scrollY;\n\t\t\t\tctx.textAlign = \"right\";\n\t\t\t\t// uncomment for dots\n\t\t\t\t// ctx.moveTo(canvasWidth, pxVal + 0.5);\n\t\t\t\t// ctx.lineTo(canvasWidth - 5, pxVal + 0.5);\n\n\t\t\t\tdisplayedValue = Number(val.toFixed(14)).toString();\n\t\t\t\tctx.fillText(displayedValue, canvasWidth - 15 , pxVal + 3);\n\n\t\t\t\t// uncomment for left-side axis\n\t\t\t\t// ctx.moveTo(0, pxVal + 0.5);\n\t\t\t\t// ctx.lineTo(5, pxVal + 0.5);\n\t\t\t\t// ctx.fillText(Number(val.toFixed(14)).toString(), 15 , pxVal + 3);\n\t\t\t}\n\t\t\tctx.stroke();\n\t\t}\n\t\t// uncomment to preview canvas borders\n\t\t// ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n\t\tctx.stroke();\n\t\tctx.closePath();\n\t\ttexture.needsUpdate = true;\n\t}\n\n\tprivate onZoomFrame(options: IScreenTransformOptions) {\n\t\tif (options.zoomX) {\n\t\t\tthis.updateAxis(AXIS_TYPE.X);\n\t\t\t//this.temporaryHideAxis(AXIS_ORIENTATION.H)\n\t\t}\n\t\tif (options.zoomY) {\n\t\t\tthis.updateAxis(AXIS_TYPE.Y);\n\t\t\t//this.temporaryHideAxis(AXIS_ORIENTATION.V)\n\t\t}\n\t}\n\n\t// private temporaryHideAxis(orientation: AXIS_TYPE) {\n\t// \tvar isXAxis = orientation == AXIS_TYPE.X;\n\t// \tvar timeoutId = setTimeout(() => {\n\t// \t\t\tthis.showAxis(orientation);\n\t// \t}, 200);\n\t//\n\t// \tif (isXAxis) {\n\t// \t\t(this.axisXObject.children[0] as Mesh).material.opacity = 0;\n\t// \t\tclearTimeout(this.showAxisXTimeout);\n\t// \t\tthis.showAxisXTimeout =\ttimeoutId;\n\t// \t} else {\n\t// \t\tclearTimeout(this.showAxisYTimeout);\n\t// \t\t(this.axisYObject.children[0] as Mesh).material.opacity = 0;\n\t// \t\tthis.showAxisYTimeout = timeoutId;\n\t// \t}\n\t// }\n\n\t// private showAxis(orientation: AXIS_TYPE) {\n\t// \tvar isXAxis = orientation == AXIS_TYPE.X;\n\t// \tvar material: MeshBasicMaterial;\n\t// \tif (isXAxis) {\n\t// \t\tmaterial = (this.axisXObject.children[0] as Mesh).material as MeshBasicMaterial;\n\t// \t} else {\n\t// \t\tmaterial = (this.axisYObject.children[0] as Mesh).material as MeshBasicMaterial;\n\t// \t}\n\t// \tthis.updateAxis(orientation);\n\t// \tTweenLite.to(material, 0.3, {opacity: 1});\n\t// }\n\n\tstatic getDateStr(timestamp: number, gridParams: IGridParamsForAxis): string {\n\t\tvar sec = 1000;\n\t\tvar min = sec * 60;\n\t\tvar hour = min * 60;\n\t\tvar day = hour * 60;\n\t\tvar step = gridParams.step;\n\t\tvar d = new Date(timestamp);\n\t\tvar tf = (num: number) => Utils.toFixed(num, 2);\n\t\treturn tf(d.getHours()) + ':' + tf(d.getMinutes()) + ':' + tf(d.getSeconds());\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/AxisWidget.ts\n **/","import Geometry = THREE.Geometry;\nimport Mesh = THREE.Mesh;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport Material = THREE.Material;\nimport Vector3 = THREE.Vector3;\nimport Line = THREE.Line;\nimport {ChartWidget} from \"../Widget\";\nimport LineSegments = THREE.LineSegments;\nimport {ChartState} from \"../State\";\nimport {Utils} from \"../Utils\";\nimport {IScreenTransformOptions} from \"../Screen\";\nimport {IAxisOptions} from \"../interfaces\";\n\nexport interface IGridParamsForAxis {\n\tstart: number,\n\tend: number,\n\tstep: number,\n\tstepInPx: number,\n\tlength: number,\n\tsegmentsCount: number\n}\n\n/**\n * widget for drawing chart grid\n */\nexport class GridWidget extends ChartWidget{\n\tstatic widgetName = 'Grid';\n\tprivate lineSegments: LineSegments;\n\tprivate gridSizeH: number;\n\tprivate gridSizeV: number;\n\n\tconstructor (chartState: ChartState) {\n\t\tsuper(chartState);\n\t\tvar {width, height, xAxis, yAxis} = chartState.data;\n\t\tthis.gridSizeH = Math.floor(width / xAxis.gridMinSize) * 3;\n\t\tthis.gridSizeV = Math.floor(height / yAxis.gridMinSize) * 3;\n\t\tthis.initGrid();\n\t\tthis.updateGrid();\n\t}\n\n\tbindEvents() {\n\t\t// grid is bigger then screen, so it's no need to update it on each scroll event\n\t\tthis.chartState.onScroll(Utils.throttle(() => this.updateGrid(), 1000));\n\n\t\tthis.chartState.screen.onZoomFrame((options) => this.onZoomFrame(options));\n\t}\n\n\tprivate initGrid() {\n\t\tvar geometry = new THREE.Geometry();\n\t\tvar material = new THREE.LineBasicMaterial( { linewidth: 1, opacity: 0.09, transparent: true});\n\t\tvar xLinesCount = this.gridSizeH;\n\t\tvar yLinesCount = this.gridSizeV;\n\t\twhile (xLinesCount--) geometry.vertices.push(new Vector3(), new Vector3());\n\t\twhile (yLinesCount--) geometry.vertices.push(new Vector3(), new Vector3());\n\t\tthis.lineSegments = new LineSegments(geometry, material);\n\t\tthis.lineSegments.frustumCulled = false;\n\t}\n\n\tprivate updateGrid() {\n\t\tvar {yAxis, xAxis, width, height} = this.chartState.data;\n\t\tvar axisXGrid = GridWidget.getGridParamsForAxis(xAxis, width, xAxis.range.scroll, xAxis.range.zoom);\n\t\tvar axisYGrid = GridWidget.getGridParamsForAxis(yAxis, height, yAxis.range.scroll, yAxis.range.zoom);\n\t\tvar scrollXInSegments = Math.ceil(xAxis.range.scroll / axisXGrid.step);\n\t\tvar scrollYInSegments = Math.ceil(yAxis.range.scroll / axisYGrid.step);\n\t\tvar gridScrollXVal = scrollXInSegments * axisXGrid.step;\n\t\tvar gridScrollYVal = scrollYInSegments * axisYGrid.step;\n\t\tvar startXVal = axisXGrid.start + gridScrollXVal;\n\t\tvar startYVal = axisYGrid.start + gridScrollYVal;\n\t\tvar geometry = this.lineSegments.geometry as Geometry;\n\t\tvar vertices = geometry.vertices;\n\t\tvar lineInd = 0;\n\n\t\tfor (let i =  -this.gridSizeH / 3; i < this.gridSizeH * 2/3; i++) {\n\t\t\tlet value = startXVal + i * axisXGrid.step;\n\t\t\tlet lineSegment = this.getVerticalLineSegment(value, gridScrollXVal, gridScrollYVal);\n\t\t\tvertices[lineInd * 2].set(lineSegment[0].x, lineSegment[0].y, 0);\n\t\t\tvertices[lineInd * 2 + 1].set(lineSegment[1].x, lineSegment[1].y, 0);\n\t\t\tlineInd++;\n\t\t}\n\n\t\tfor (let i =  -this.gridSizeV / 3; i < this.gridSizeV * 2/3; i++) {\n\t\t\tlet value = startYVal + i * axisYGrid.step;\n\t\t\tlet lineSegment = this.getHorizontalLineSegment(value, gridScrollXVal, gridScrollYVal);\n\t\t\tvertices[lineInd * 2].set(lineSegment[0].x, lineSegment[0].y, 0);\n\t\t\tvertices[lineInd * 2 + 1].set(lineSegment[1].x, lineSegment[1].y, 0);\n\t\t\tlineInd++;\n\t\t}\n\n\t\tgeometry.verticesNeedUpdate = true;\n\n\t\tthis.lineSegments.scale.set(\n\t\t\txAxis.range.scaleFactor * xAxis.range.zoom,\n\t\t\tyAxis.range.scaleFactor * yAxis.range.zoom,\n\t\t\t1\n\t\t)\n\t}\n\n\tprivate getHorizontalLineSegment(yVal: number, scrollXVal: number, scrollYVal: number): Vector3[] {\n\t\tvar chartState = this.chartState;\n\t\tvar localYVal = yVal - chartState.data.yAxis.range.zeroVal - scrollYVal;\n\t\tvar widthVal = chartState.pxToValueByXAxis(chartState.data.width);\n\t\treturn [\n\t\t\tnew THREE.Vector3(widthVal * 2 + scrollXVal, localYVal, 0 ),\n\t\t\tnew THREE.Vector3( -widthVal + scrollXVal, localYVal, 0 )\n\t\t];\n\t}\n\n\tprivate getVerticalLineSegment(xVal: number, scrollXVal: number, scrollYVal: number): Vector3[] {\n\t\tvar chartState = this.chartState;\n\t\tvar localXVal = xVal - chartState.data.xAxis.range.zeroVal - scrollXVal;\n\t\tvar heightVal = chartState.pxToValueByYAxis(chartState.data.height);\n\t\treturn [\n\t\t\tnew THREE.Vector3(localXVal, heightVal * 2 + scrollYVal, 0 ),\n\t\t\tnew THREE.Vector3(localXVal, -heightVal + scrollYVal, 0 )\n\t\t];\n\t}\n\n\tprivate onZoomFrame(options: IScreenTransformOptions) {\n\t\tvar {xAxis, yAxis} = this.chartState.data;\n\t\tif (options.zoomX) this.lineSegments.scale.setX(xAxis.range.scaleFactor * options.zoomX);\n\t\tif (options.zoomY) this.lineSegments.scale.setY(yAxis.range.scaleFactor * options.zoomY);\n\t}\n\n\tstatic getGridParamsForAxis(axisOptions: IAxisOptions, axisWidth: number, scroll: number, zoom: number): IGridParamsForAxis {\n\t\tvar axisRange = axisOptions.range;\n\t\tvar from = axisOptions.range.zeroVal + scroll;\n\t\tvar to = from + axisWidth / (axisRange.scaleFactor * zoom);\n\t\tvar axisLength = to - from;\n\t\tvar gridStep = 0;\n\t\tvar gridStepInPixels = 0;\n\t\tvar minGridStepInPixels = axisOptions.gridMinSize;\n\t\tvar axisLengthStr = String(axisLength);\n\t\tvar axisLengthPointPosition = axisLengthStr.indexOf('.');\n\t\tvar intPartLength = axisLengthPointPosition !== -1 ? axisLengthPointPosition : axisLengthStr.length;\n\n\t\tvar gridStepFound = false;\n\t\tvar digitPos = 0;\n\t\twhile (!gridStepFound) {\n\n\t\t\tlet power = intPartLength - digitPos - 1;\n\t\t\tlet multiplier = (Math.pow(10, power) || 1);\n\t\t\tlet dividers = [1, 2, 5];\n\t\t\tfor (let dividerInd = 0; dividerInd < dividers.length; dividerInd++) {\n\t\t\t\tlet nextGridStep = multiplier / dividers[dividerInd];\n\t\t\t\tlet nextGridStepInPixels = nextGridStep / axisLength * axisWidth;\n\t\t\t\tif (nextGridStepInPixels >= minGridStepInPixels) {\n\t\t\t\t\tgridStep = nextGridStep;\n\t\t\t\t\tgridStepInPixels = nextGridStepInPixels;\n\t\t\t\t} else {\n\t\t\t\t\tgridStepFound = true;\n\t\t\t\t\tif (gridStep === 0) {\n\t\t\t\t\t\tgridStep = nextGridStep;\n\t\t\t\t\t\tgridStepInPixels = nextGridStepInPixels;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!gridStepFound) digitPos++\n\n\t\t}\n\n\t\tvar gridStart = Math.floor(from / gridStep) * gridStep;\n\t\tvar gridEnd = Math.floor(to / gridStep) * gridStep;\n\n\t\treturn {\n\t\t\tstart: gridStart,\n\t\t\tend: gridEnd,\n\t\t\tstep: gridStep,\n\t\t\tstepInPx: gridStepInPixels,\n\t\t\tlength: gridEnd - gridStart,\n\t\t\tsegmentsCount: Math.round((gridEnd - gridStart) / gridStep)\n\t\t}\n\t}\n\t\n\tgetObject3D() {\n\t\treturn this.lineSegments;\n\t}\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/GridWidget.ts\n **/","\nimport Object3D = THREE.Object3D;\nimport {ChartState} from \"../State\";\nimport {Utils} from \"../Utils\";\nimport Mesh = THREE.Mesh;\nimport PlaneBufferGeometry = THREE.PlaneBufferGeometry;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport Vector3 = THREE.Vector3;\nimport {TrendWidget, TrendsWidget} from \"./TrendsWidget\";\nimport {ITrendOptions} from \"../Trend\";\nimport {TrendPoints} from \"../TrendPoints\";\n\n/**\n * widget adds loading indicator\n * activated when animations enabled\n */\nexport class TrendsLoadingWidget extends TrendsWidget<TrendLoading> {\n\tstatic widgetName = 'trendsLoading';\n\tprotected getTrendWidgetClass() {\n\t\treturn TrendLoading;\n\t}\n}\n\nexport class TrendLoading extends TrendWidget {\n\tprivate mesh: Mesh;\n\tprivate animation: TweenLite;\n\tprivate isActive = false;\n\n\tstatic widgetIsEnabled(trendOptions: ITrendOptions, chartState: ChartState) {\n\t\treturn trendOptions.enabled && chartState.data.animations.enabled;\n\t}\n\n\tconstructor(state: ChartState, trendName: string) {\n\t\tsuper(state, trendName);\n\t\t// add beacon\n\t\tthis.mesh = new Mesh(\n\t\t\tnew PlaneBufferGeometry(32, 32),\n\t\t\tnew MeshBasicMaterial({map: TrendLoading.createTexture(), transparent: true})\n\t\t);\n\t\tthis.deactivate();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.mesh;\n\t}\n\t\n\tbindEvents() {\n\t\tsuper.bindEvents();\n\t\tthis.bindEvent(this.trend.onPrependRequest(() => this.activate()))\n\t}\n\n\tprependData() {\n\t\tthis.deactivate();\n\t}\n\n\tprivate activate() {\n\t\tvar mesh = this.mesh;\n\t\tmesh.material.opacity = 1;\n\t\tmesh.rotation.z = 0;\n\t\tvar animation = TweenLite.to(this.mesh.rotation, 0.5, {z: Math.PI * 2});\n\t\tanimation.eventCallback('onComplete', () => {\n\t\t\tanimation.restart();\n\t\t});\n\t\tthis.animation = animation;\n\t\tthis.isActive = true;\n\t\tthis.updatePosition();\n\t}\n\n\tprivate deactivate() {\n\t\tthis.animation && this.animation.kill();\n\t\tthis.mesh.material.opacity = 0;\n\t\tthis.isActive = false;\n\t}\n\n\n\tprivate static createTexture() {\n\t\tvar h = 64, w = 64;\n\t\treturn Utils.createTexture(h, w, (ctx: CanvasRenderingContext2D) => {\n\t\t\tctx.strokeStyle = \"rgba(255,255,255,0.95)\";\n\t\t\tctx.lineWidth = 5;\n\t\t\tvar center = h/2;\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(center, center, 22, 0,Math.PI/ 2);\n\t\t\tctx.stroke();\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(center, center, 22, Math.PI, Math.PI + Math.PI/2);\n\t\t\tctx.stroke();\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(center, center, 3, 0, Math.PI * 2);\n\t\t\tctx.stroke();\n\t\t});\n\t}\n\t\n\tprotected onZoomFrame() {\n\t\tthis.updatePosition();\n\t}\n\n\tprivate updatePosition() {\n\t\tif (!this.isActive) return;\n\t\t// set new widget position\n\t\tvar pointVector = this.trend.points.getStartPoint().getFramePoint();\n\t\tthis.mesh.position.set(pointVector.x, pointVector.y, 0);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/TrendsLoadingWidget.ts\n **/","\nimport {ChartWidget} from \"../Widget\";\nimport {ChartState} from \"../State\";\nimport Object3D = THREE.Object3D;\nimport Geometry = THREE.Geometry;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport Vector3 = THREE.Vector3;\nimport {Utils} from \"../Utils\";\nimport Line = THREE.Line;\nimport Mesh = THREE.Mesh;\nimport Color = THREE.Color;\nimport Texture = THREE.Texture;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport {AxisMark, AxisMarks} from \"../AxisMarks\";\nimport {AXIS_TYPE} from \"../interfaces\";\nimport {IScreenTransformOptions} from \"../Screen\";\n\n\n// TODO: support for yAxis\n\n/**\n * widget for shows marks on axis\n */\nexport class AxisMarksWidget extends ChartWidget {\n\tstatic widgetName = 'axisMarks';\n\n\tprivate object3D: Object3D;\n\tprivate xAxisMarks: AxisMarks;\n\tprivate axisMarksWidgets: AxisMarkWidget[] = [];\n\n\tconstructor(chartState: ChartState) {\n\t\tsuper(chartState);\n\t\tthis.object3D = new Object3D();\n\t\tthis.xAxisMarks = chartState.xAxisMarks;\n\n\t\tvar items = this.xAxisMarks.getItems();\n\t\tfor (var markName in items) {\n\t\t\tthis.createAxisMark(items[markName]);\n\t\t}\n\t}\n\n\tprivate createAxisMark(axisMark: AxisMark) {\n\t\tvar axisMarkWidget = new AxisMarkWidget(this.chartState, axisMark);\n\t\tthis.axisMarksWidgets.push(axisMarkWidget);\n\t\tthis.object3D.add(axisMarkWidget.getObject3D());\n\t}\n\n\tprotected bindEvents() {\n\t\tthis.chartState.screen.onTransformationFrame((options) => this.onTransformationFrame(options));\n\t}\n\n\tprivate onTransformationFrame(options: IScreenTransformOptions) {\n\t\tif (options.scrollYVal != void 0 || options.zoomX || options.zoomY) this.updateMarksPositions();\n\t}\n\n\tprivate updateMarksPositions() {\n\t\tfor (let widget of this.axisMarksWidgets) widget.updatePosition();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.object3D;\n\t}\n\n}\n\n\n\nconst DEFAULT_INDICATOR_RENDER_FUNCTION = (axisMarkWidget: AxisMarkWidget, ctx: CanvasRenderingContext2D) => {\n\tvar axisMark = axisMarkWidget.axisMark;\n\tctx.clearRect(0, 0, axisMarkWidget.indicatorWidth, axisMarkWidget.indicatorHeight);\n\tctx.fillStyle = axisMark.options.lineColor;\n\tctx.fillText(axisMark.options.title, 15, 20);\n\tctx.fillStyle = 'rgba(255, 255, 255, 0.7)';\n\tctx.fillText(axisMark.getDisplayedVal(), 16, 34);\n};\n\nclass AxisMarkWidget {\n\tstatic typeName = 'simple';\n\taxisMark: AxisMark;\n\tindicatorWidth = 64;\n\tindicatorHeight = 64;\n\tprotected indicatorRenderFunction = DEFAULT_INDICATOR_RENDER_FUNCTION;\n\tprotected chartState: ChartState;\n\tprotected axisType: AXIS_TYPE;\n\tprotected object3D: Object3D;\n\tprotected line: Line;\n\tprotected indicator: Mesh;\n\tprotected moveAnimation: TweenLite;\n\tprotected frameValue: number;\n\t\n\n\tconstructor(chartState: ChartState, axisMark: AxisMark) {\n\n\t\tif (axisMark.axisType == AXIS_TYPE.Y) {\n\t\t\tUtils.error('axis mark on Y axis not supported yet');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.chartState = chartState;\n\t\tthis.axisMark = axisMark;\n\t\tthis.axisType = axisMark.axisType;\n\t\tthis.frameValue = axisMark.options.value;\n\t\tthis.object3D = new Object3D();\n\t\tthis.object3D.position.setZ(-0.1);\n\n\t\tthis.line = this.createLine();\n\t\tthis.object3D.add(this.line);\n\t\tthis.indicator = this.createIndicator();\n\t\tthis.object3D.add(this.indicator);\n\t\tthis.renderIndicator();\n\t\tthis.updatePosition();\n\t\tthis.bindEvents();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.object3D;\n\t}\n\n\tprotected createLine(): Line {\n\t\tvar {lineWidth, lineColor} = this.axisMark.options;\n\t\tvar lineGeometry = new Geometry();\n\n\t\tlineGeometry.vertices.push(new Vector3(0,0,0), new Vector3(0,0,0));\n\t\treturn new Line(\n\t\t\tlineGeometry,\n\t\t\tnew LineBasicMaterial( { color: Utils.getHexColor(lineColor), linewidth: lineWidth})\n\t\t);\n\t}\n\n\tprotected createIndicator(): Mesh {\n\t\tvar {indicatorWidth: width, indicatorHeight: height} = this;\n\t\tvar texture = Utils.createPixelPerfectTexture(width, height, (ctx) => {\n\t\t\tctx.beginPath();\n\t\t\tctx.font = \"10px Arial\";\n\t\t});\n\n\t\tvar material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.FrontSide} );\n\t\tmaterial.transparent = true;\n\n\t\treturn new Mesh(\n\t\t\tnew THREE.PlaneGeometry(width, height),\n\t\t\tmaterial\n\t\t);\n\t}\n\n\tprotected renderIndicator() {\n\t\tvar texture = (this.indicator.material as MeshBasicMaterial).map as Texture;\n\t\tvar ctx = (texture.image as HTMLCanvasElement).getContext('2d');\n\t\tDEFAULT_INDICATOR_RENDER_FUNCTION(this, ctx);\n\t\ttexture.needsUpdate = true;\n\t}\n\n\tprotected bindEvents() {\n\t\tthis.axisMark.onDisplayedValueChange(() => this.renderIndicator());\n\t\tthis.axisMark.onValueChange(() => this.onValueChangeHandler());\n\t}\n\n\tprivate onValueChangeHandler() {\n\t\t// move mark to new position with animation\n\t\tif (this.moveAnimation) this.moveAnimation.kill();\n\t\tvar animations = this.chartState.data.animations;\n\t\tvar targetValue = this.axisMark.options.value;\n\t\tvar cb = () => {\n\t\t\tthis.updatePosition();\n\t\t};\n\t\tif (animations.enabled) {\n\t\t\tthis.moveAnimation = TweenLite.to(\n\t\t\t\tthis, animations.trendChangeSpeed,\n\t\t\t\t{frameValue: targetValue, ease: animations.trendChangeEase}\n\t\t\t);\n\t\t\tthis.moveAnimation.eventCallback('onUpdate', cb);\n\t\t} else {\n\t\t\tthis.frameValue = targetValue;\n\t\t\tcb();\n\t\t}\n\t}\n\n\tupdatePosition() {\n\t\tvar chartState = this.chartState;\n\t\tvar isXAxis = this.axisType == AXIS_TYPE.X;\n\t\tif (!isXAxis) return; // TODO: support for yAxis\n\t\tthis.object3D.position.x = chartState.screen.getPointOnXAxis(this.frameValue);\n\t\tthis.object3D.position.y = chartState.screen.getBottom();\n\t\tvar lineGeometry = (this.line.geometry as Geometry);\n\t\tlineGeometry.vertices[1].setY(chartState.data.height);\n\t\tlineGeometry.verticesNeedUpdate = true;\n\t\tthis.indicator.position.set(this.indicatorWidth / 2, chartState.data.height - this.indicatorHeight / 2, 0);\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/AxisMarksWidget.ts\n **/","import Geometry = THREE.Geometry;\nimport Mesh = THREE.Mesh;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport Material = THREE.Material;\nimport Vector3 = THREE.Vector3;\nimport Line = THREE.Line;\nimport Object3D = THREE.Object3D;\nimport {ChartState} from \"../State\";\nimport Face3 = THREE.Face3;\nimport Texture = THREE.Texture;\nimport Vector2 = THREE.Vector2;\nimport {TrendsWidget, TrendWidget} from \"./TrendsWidget\";\nimport LineSegments = THREE.LineSegments;\nimport {TrendMark} from \"../TrendMarks\";\nimport {Utils} from \"../Utils\";\nimport LineDashedMaterial = THREE.LineDashedMaterial;\n\n/**\n * widget for drawing trends marks for all trends\n */\nexport class TrendsMarksWidget extends TrendsWidget<TrendMarksWidget> {\n\tstatic widgetName = \"TrendsMarks\";\n\tprotected getTrendWidgetClass() {\n\t\treturn TrendMarksWidget;\n\t}\n}\n\n/**\n * widget for drawing trend marks for one trend\n */\nexport class TrendMarksWidget extends TrendWidget {\n\n\tprivate object3D: Object3D;\n\tprivate marksWidgets: {[name: string]: TrendMarkWidget} = {};\n\n\tconstructor (chartState: ChartState, trendName: string) {\n\t\tsuper(chartState, trendName);\n\t\tthis.object3D = new Object3D();\n\t\tthis.onMarksChange();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.object3D;\n\t}\n\t\n\tprotected bindEvents() {\n\t\tsuper.bindEvents();\n\t\tthis.trend.marks.onChange(() => this.onMarksChange());\n\t}\n\n\tprivate onMarksChange() {\n\t\tvar marksItems = this.trend.marks.getItems();\n\t\tvar widgets = this.marksWidgets;\n\t\tfor (let markName in marksItems) {\n\t\t\tif (!widgets[markName]) this.createMarkWidget(marksItems[markName]);\n\t\t}\n\t}\n\t\n\tprivate createMarkWidget(mark: TrendMark) {\n\t\tlet markWidget = new TrendMarkWidget(this.chartState, mark);\n\t\tthis.marksWidgets[mark.options.name] = markWidget;\n\t\tthis.object3D.add(markWidget.getObject3D());\n\t}\n\n\t// protected onTransformationFrame() {\n\t// \tvar widgets = this.marksWidgets;\n\t// \tfor (let markName in widgets) {\n\t// \t\twidgets[markName].onTrendAnimate();\n\t// \t}\n\t// }\n\n\tprotected onZoomFrame() {\n\t\tvar widgets = this.marksWidgets;\n\t\tfor (let markName in widgets) {\n\t\t\twidgets[markName].onZoomFrameHandler();\n\t\t}\n\t}\n\n\tprotected onPointsMove() {\n\t\tvar widgets = this.marksWidgets;\n\t\tfor (let markName in widgets) {\n\t\t\twidgets[markName].onPointsMove();\n\t\t}\n\t}\n}\n\n/**\n * widget for drawing one trend mark\n */\nclass TrendMarkWidget {\n\tprivate chartState: ChartState;\n\tprivate mark: TrendMark;\n\tprivate object3D: Object3D;\n\tprivate line: Line;\n\tprivate markMesh: Mesh;\n\tprivate markHeight = 74;\n\tprivate markWidth = 150;\n\tprivate position = {lineHeight: 30, x: 0, y: 0};\n\n\tconstructor(chartState: ChartState, trendMark: TrendMark) {\n\t\tthis.chartState = chartState;\n\t\tthis.mark = trendMark;\n\t\tthis.initObject();\n\t\tthis.show();\n\t}\n\t\n\tprotected initObject() {\n\t\tthis.object3D = new Object3D();\n\t\tthis.markMesh = this.createMarkMesh();\n\t\tthis.object3D.add(this.markMesh);\n\t}\n\n\tprotected createMarkMesh(): Mesh {\n\t\tvar {markHeight, markWidth} = this;\n\t\tvar lineHeight = this.position.lineHeight;\n\t\tvar meshHeight = markHeight + lineHeight;\n\t\tvar meshWidth = markWidth;\n\t\tvar mark = this.mark.options;\n\n\t\tvar texture = Utils.createPixelPerfectTexture(meshWidth, meshHeight, (ctx) => {\n\n\t\t\tvar circleOffset = 30;\n\t\t\tvar circleR = 22;\n\t\t\tvar circleX = markWidth / 2;\n\t\t\tvar circleY = circleOffset + circleR;\n\n\t\t\t// title and description\n\t\t\tctx.beginPath();\n\t\t\tctx.textAlign = 'center';\n\t\t\tctx.font = \"11px Arial\";\n\t\t\tctx.fillStyle = 'rgb(129,129,129)';\n\t\t\tctx.fillText(mark.title, circleX, 10);\n\t\t\tctx.fillStyle = 'rgb(40,136,75)';\n\t\t\tctx.fillText(mark.description, circleX, 22);\n\n\t\t\t// icon circle\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = mark.iconColor;\n\t\t\tctx.arc(circleX, circleY, circleR, 0, 2 * Math.PI);\n\t\t\tctx.fill();\n\n\t\t\t// icon text\n\t\t\tctx.font = \"19px Arial\";\n\t\t\tctx.fillStyle = 'rgb(255, 255, 255)';\n\t\t\tctx.fillText(mark.icon, circleX, circleY + 7);\n\n\t\t\t// line\n\t\t\tctx.beginPath();\n\t\t\tctx.strokeStyle = 'rgb(255, 255, 255)';\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.setLineDash([1, 4]);\n\t\t\tctx.moveTo(markWidth / 2 + 0.5, circleY + circleR);\n\t\t\tctx.lineTo(markWidth / 2  + 0.5, meshHeight);\n\t\t\tctx.stroke();\n\t\t});\n\n\t\tvar material = new THREE.MeshBasicMaterial( {map: texture, side: THREE.FrontSide} );\n\t\tmaterial.transparent = true;\n\n\t\tvar mesh = new Mesh(\n\t\t\tnew THREE.PlaneGeometry(meshWidth, meshHeight),\n\t\t\tmaterial\n\t\t);\n\t\tmesh.position.setY(meshHeight / 2);\n\t\treturn mesh;\n\t}\n\n\tgetObject3D() {\n\t\treturn this.object3D;\n\t}\n\n\tonPointsMove() {\n\t\tthis.updatePosition();\n\t}\n\n\tonZoomFrameHandler() {\n\t\tthis.updatePosition();\n\t}\n\n\tprivate updatePosition() {\n\t\tif (!this.mark.point) return;\n\t\tvar pos = this.mark.point.getFramePoint();\n\t\tthis.object3D.position.set(pos.x, pos.y, 0);\n\t}\n\n\tprivate show() {\n\t\tif (!this.mark.point) return;\n\t\tthis.updatePosition();\n\t\tvar animations = this.chartState.data.animations;\n\t\tvar time = animations.enabled ? 1 : 0;\n\t\tthis.object3D.scale.set(0.01, 0.01, 1);\n\t\tTweenLite.to(this.object3D.scale, time, {x: 1, y: 1, ease: Elastic.easeOut});\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/TrendsMarksWidget.ts\n **/","\nimport {ChartWidget} from \"../Widget\";\nimport {ChartState} from \"../State\";\nimport LineSegments = THREE.LineSegments;\nimport Vector3 = THREE.Vector3;\n/**\n * widget for drawing chart grid\n */\nexport class BorderWidget extends ChartWidget{\n\tstatic widgetName = 'Border';\n\tprivate lineSegments: LineSegments;\n\n\n\tconstructor (chartState: ChartState) {\n\t\tsuper(chartState);\n\t\tvar {width, height} = chartState.data;\n\t\tvar geometry = new THREE.Geometry();\n\t\tvar material = new THREE.LineBasicMaterial( { linewidth: 1, opacity: 0.0, transparent: true} );\n\n\t\tgeometry.vertices.push(\n\t\t\tnew Vector3(0, 0, 0), new Vector3(0, height, 0),\n\t\t\tnew Vector3(0, height, 0), new Vector3(width, height, 0),\n\t\t\tnew Vector3(width, height, 0), new Vector3(width, 0, 0),\n\t\t\tnew Vector3(width, 0, 0), new Vector3(0, 0, 0)\n\t\t);\n\t\tthis.lineSegments = new LineSegments(geometry, material);\n\t}\n\tgetObject3D() {\n\t\treturn this.lineSegments;\n\t}\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/widgets/BorderWidget.ts\n **/"],"sourceRoot":""}