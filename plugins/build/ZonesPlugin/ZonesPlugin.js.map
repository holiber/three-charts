{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6****","webpack:///plugins/src/ZonesPlugin/ZonesPlugin.js","webpack:///webpack/bootstrap 3f071e3bbe704d0dff04?9d60****","webpack:///./plugins/src/ZonesPlugin/index.ts","webpack:///external \"three-charts\"?bed9****","webpack:///./plugins/src/ZonesPlugin/ZonesPlugin.ts","webpack:///./plugins/src/ZonesPlugin/ZonesWidget.ts"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","__export","hasOwnProperty","__extends","d","b","__","constructor","prototype","Object","create","three_charts_1","ZonesWidget_1","ZONE_TYPE","ZONE_DEFAULT_OPTIONS","name","title","type","X_RANGE","bgColor","easeSpeed","opacity","position","startXVal","startYVal","endXVal","endYVal","Zone","_super","zonePlugin","chart","Utils","patch","Infinity","remove","setState","pluginsState","_a","ZonesPlugin","NAME","_id","getId","update","newOptions","options","deepMerge","UniqCollectionItem","pluginOptions","_this","items","UniqCollection","createInstance","onInitialStateAppliedHandler","onStateChangedHandler","getOptions","zoneOptions","getLast","providedWidgets","ZonesWidget","ChartPlugin","Object3D","THREE","Geometry","Mesh","MeshBasicMaterial","ZonesPlugin_1","apply","arguments","onReadyHandler","object3D","zonesPlugin","getPlugin","forEach","zone","createZoneWidget","bindEvents","widget","ZoneWidget","push","add","getObject3D","zones","bindEvent","interpolatedViewport","onInterpolation","updateZonesPositions","onCreate","item","onUpdate","changedOptions","onZoneUpdateHandler","onRemove","onZoneRemoveHandler","mark","find","ind","findIndex","splice","updatePosition","fn","_i","length","widgetName","ChartWidget","initObject","height","state","Color","animatedProps","geometry","vertices","Vector3","faces","Face3","mesh","transparent","color","value","a","frustumCulled","animation","stop","animationManager","animate","ease","from","to","onTick","viewport","startY","isFinite","getWorldYByVal","getBottom","endY","getTop","startX","getWorldXByVal","endX","material","verts","set","verticesNeedUpdate"],"mappings":"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","file":"plugins/src/ZonesPlugin/ZonesPlugin.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"three-charts\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"three-charts\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ZonesPlugin\"] = factory(require(\"three-charts\"));\n\telse\n\t\troot[\"THREE_CHARTS\"] = root[\"THREE_CHARTS\"] || {}, root[\"THREE_CHARTS\"][\"ZonesPlugin\"] = factory(root[\"three-charts\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"three-charts\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"three-charts\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ZonesPlugin\"] = factory(require(\"three-charts\"));\n\telse\n\t\troot[\"THREE_CHARTS\"] = root[\"THREE_CHARTS\"] || {}, root[\"THREE_CHARTS\"][\"ZonesPlugin\"] = factory(root[\"three-charts\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tfunction __export(m) {\r\n\t    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n\t}\r\n\t__export(__webpack_require__(10));\r\n\t__export(__webpack_require__(11));\r\n\n\n/***/ },\n/* 1 */,\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar three_charts_1 = __webpack_require__(2);\r\n\tvar ZonesWidget_1 = __webpack_require__(11);\r\n\t(function (ZONE_TYPE) {\r\n\t    ZONE_TYPE[ZONE_TYPE[\"X_RANGE\"] = 0] = \"X_RANGE\";\r\n\t})(exports.ZONE_TYPE || (exports.ZONE_TYPE = {}));\r\n\tvar ZONE_TYPE = exports.ZONE_TYPE;\r\n\tvar ZONE_DEFAULT_OPTIONS = {\r\n\t    name: '',\r\n\t    title: '',\r\n\t    type: ZONE_TYPE.X_RANGE,\r\n\t    bgColor: '#b81820',\r\n\t    easeSpeed: 500,\r\n\t    opacity: 0.4,\r\n\t    position: {\r\n\t        startXVal: 0,\r\n\t        startYVal: 0,\r\n\t        endXVal: 0,\r\n\t        endYVal: 0\r\n\t    }\r\n\t};\r\n\tvar Zone = (function (_super) {\r\n\t    __extends(Zone, _super);\r\n\t    function Zone(zonePlugin, chart) {\r\n\t        _super.call(this);\r\n\t        this.zonePlugin = zonePlugin;\r\n\t        this.chart = chart;\r\n\t        three_charts_1.Utils.patch(this, ZONE_DEFAULT_OPTIONS);\r\n\t        if (this.type == ZONE_TYPE.X_RANGE) {\r\n\t            this.position.startYVal = -Infinity;\r\n\t            this.position.endYVal = Infinity;\r\n\t        }\r\n\t    }\r\n\t    Zone.prototype.remove = function () {\r\n\t        this.chart.setState({ pluginsState: (_a = {}, _a[ZonesPlugin.NAME] = [{ _id: this.getId() }], _a) });\r\n\t        var _a;\r\n\t    };\r\n\t    Zone.prototype.update = function (newOptions) {\r\n\t        var options = three_charts_1.Utils.deepMerge({ _id: this.getId() }, newOptions);\r\n\t        this.chart.setState({ pluginsState: (_a = {}, _a[ZonesPlugin.NAME] = [options], _a) });\r\n\t        var _a;\r\n\t    };\r\n\t    return Zone;\r\n\t}(three_charts_1.UniqCollectionItem));\r\n\texports.Zone = Zone;\r\n\tvar ZonesPlugin = (function (_super) {\r\n\t    __extends(ZonesPlugin, _super);\r\n\t    function ZonesPlugin(pluginOptions) {\r\n\t        var _this = this;\r\n\t        _super.call(this, pluginOptions);\r\n\t        this.items = new three_charts_1.UniqCollection({\r\n\t            createInstance: function () { return new Zone(_this, _this.chart); }\r\n\t        });\r\n\t    }\r\n\t    ZonesPlugin.prototype.onInitialStateAppliedHandler = function () {\r\n\t        this.onStateChangedHandler(this.getOptions());\r\n\t    };\r\n\t    ZonesPlugin.prototype.onStateChangedHandler = function (options) {\r\n\t        this.items.patch(options);\r\n\t    };\r\n\t    ZonesPlugin.prototype.create = function (zoneOptions) {\r\n\t        this.chart.setState({ pluginsState: (_a = {}, _a[this.name] = [zoneOptions], _a) });\r\n\t        return this.items.getLast();\r\n\t        var _a;\r\n\t    };\r\n\t    ZonesPlugin.NAME = 'Zone';\r\n\t    ZonesPlugin.providedWidgets = [ZonesWidget_1.ZonesWidget];\r\n\t    return ZonesPlugin;\r\n\t}(three_charts_1.ChartPlugin));\r\n\texports.ZonesPlugin = ZonesPlugin;\r\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || function (d, b) {\r\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t};\r\n\tvar Object3D = THREE.Object3D;\r\n\tvar Geometry = THREE.Geometry;\r\n\tvar Mesh = THREE.Mesh;\r\n\tvar MeshBasicMaterial = THREE.MeshBasicMaterial;\r\n\tvar three_charts_1 = __webpack_require__(2);\r\n\tvar ZonesPlugin_1 = __webpack_require__(10);\r\n\t/**\r\n\t * widget for shows marks on axis\r\n\t */\r\n\tvar ZonesWidget = (function (_super) {\r\n\t    __extends(ZonesWidget, _super);\r\n\t    function ZonesWidget() {\r\n\t        _super.apply(this, arguments);\r\n\t        this.items = [];\r\n\t    }\r\n\t    ZonesWidget.prototype.onReadyHandler = function () {\r\n\t        var _this = this;\r\n\t        this.object3D = new Object3D();\r\n\t        this.zonesPlugin = this.chart.getPlugin(ZonesPlugin_1.ZonesPlugin.NAME);\r\n\t        this.zonesPlugin.items.forEach(function (zone) { return _this.createZoneWidget(zone); });\r\n\t        this.bindEvents();\r\n\t    };\r\n\t    ZonesWidget.prototype.createZoneWidget = function (zone) {\r\n\t        var widget = new ZoneWidget(this.chart, zone);\r\n\t        this.items.push(widget);\r\n\t        this.object3D.add(widget.getObject3D());\r\n\t    };\r\n\t    ZonesWidget.prototype.bindEvents = function () {\r\n\t        var _this = this;\r\n\t        var zones = this.zonesPlugin.items;\r\n\t        this.bindEvent(this.chart.interpolatedViewport.onInterpolation(function () { return _this.updateZonesPositions(); }), zones.onCreate(function (item) { return _this.createZoneWidget(item); }), zones.onUpdate(function (item, changedOptions) { return _this.onZoneUpdateHandler(item, changedOptions); }), zones.onRemove(function (item) { return _this.onZoneRemoveHandler(item); }));\r\n\t    };\r\n\t    ZonesWidget.prototype.onZoneUpdateHandler = function (mark, changedOptions) {\r\n\t        var widget = this.items.find(function (widget) { return widget.zone.getId() == mark.getId(); });\r\n\t        widget.update(changedOptions);\r\n\t    };\r\n\t    ZonesWidget.prototype.onZoneRemoveHandler = function (mark) {\r\n\t        var ind = this.items.findIndex(function (widget) { return widget.zone.getId() == mark.getId(); });\r\n\t        var widget = this.items[ind];\r\n\t        this.object3D.remove(widget.getObject3D());\r\n\t        this.items.splice(ind, 1);\r\n\t    };\r\n\t    ZonesWidget.prototype.updateZonesPositions = function () {\r\n\t        this.forEach(function (widget) { return widget.updatePosition(); });\r\n\t    };\r\n\t    ZonesWidget.prototype.forEach = function (fn) {\r\n\t        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {\r\n\t            var widget = _a[_i];\r\n\t            fn(widget);\r\n\t        }\r\n\t    };\r\n\t    ZonesWidget.prototype.getObject3D = function () {\r\n\t        return this.object3D;\r\n\t    };\r\n\t    ZonesWidget.widgetName = 'Zones';\r\n\t    return ZonesWidget;\r\n\t}(three_charts_1.ChartWidget));\r\n\texports.ZonesWidget = ZonesWidget;\r\n\tvar ZoneWidget = (function () {\r\n\t    function ZoneWidget(chart, zone) {\r\n\t        this.chart = chart;\r\n\t        this.zone = zone;\r\n\t        this.object3D = new Object3D();\r\n\t        this.initObject();\r\n\t        this.updatePosition();\r\n\t    }\r\n\t    ZoneWidget.prototype.getObject3D = function () {\r\n\t        return this.object3D;\r\n\t    };\r\n\t    ZoneWidget.prototype.initObject = function () {\r\n\t        var height = this.chart.state.height;\r\n\t        var bgColor = new three_charts_1.Color(this.zone.bgColor);\r\n\t        this.animatedProps = three_charts_1.Utils.deepMerge({}, this.zone.position);\r\n\t        this.animatedProps.opacity = this.zone.opacity;\r\n\t        // mesh scheme\r\n\t        //\r\n\t        // vert0 +---+ vert3\r\n\t        //       |\\  |\r\n\t        // face1 | \\ | face2\r\n\t        // \t     |  \\|\r\n\t        // vert1 +---+ vert2\r\n\t        var geometry = new Geometry();\r\n\t        geometry.vertices.push(new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3());\r\n\t        geometry.faces.push(new THREE.Face3(0, 1, 2), new THREE.Face3(3, 0, 2));\r\n\t        this.mesh = new Mesh(geometry, new MeshBasicMaterial({ transparent: true, color: bgColor.value, opacity: bgColor.a }));\r\n\t        this.mesh.frustumCulled = false;\r\n\t        this.object3D.add(this.mesh);\r\n\t    };\r\n\t    ZoneWidget.prototype.update = function (options) {\r\n\t        var _this = this;\r\n\t        var zone = this.zone;\r\n\t        this.animation && this.animation.stop();\r\n\t        this.animation = this.chart.animationManager.animate(zone.easeSpeed, zone.ease)\r\n\t            .from(this.animatedProps)\r\n\t            .to({\r\n\t            startXVal: zone.position.startXVal,\r\n\t            startYVal: zone.position.startYVal,\r\n\t            endXVal: zone.position.endXVal,\r\n\t            endYVal: zone.position.endYVal,\r\n\t            opacity: zone.opacity\r\n\t        })\r\n\t            .onTick(function () { return _this.updatePosition(); });\r\n\t    };\r\n\t    ZoneWidget.prototype.updatePosition = function () {\r\n\t        var chart = this.chart;\r\n\t        var viewport = chart.interpolatedViewport;\r\n\t        var zone = this.zone;\r\n\t        var _a = this.animatedProps, startXVal = _a.startXVal, startYVal = _a.startYVal, endXVal = _a.endXVal, endYVal = _a.endYVal, opacity = _a.opacity;\r\n\t        var startY = isFinite(startYVal) ? viewport.getWorldYByVal(startYVal) : viewport.getBottom();\r\n\t        var endY = isFinite(endYVal) ? viewport.getWorldYByVal(endYVal) : viewport.getTop();\r\n\t        var startX = viewport.getWorldXByVal(startXVal);\r\n\t        var endX = viewport.getWorldXByVal(endXVal);\r\n\t        var geometry = this.mesh.geometry;\r\n\t        var material = this.mesh.material;\r\n\t        var verts = geometry.vertices;\r\n\t        material.opacity = this.animatedProps.opacity;\r\n\t        verts[0].set(startX, endY, 0);\r\n\t        verts[1].set(startX, startY, 0);\r\n\t        verts[2].set(endX, startY, 0);\r\n\t        verts[3].set(endX, endY, 0);\r\n\t        geometry.verticesNeedUpdate = true;\r\n\t    };\r\n\t    return ZoneWidget;\r\n\t}());\r\n\texports.ZoneWidget = ZoneWidget;\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** plugins/src/ZonesPlugin/ZonesPlugin.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3f071e3bbe704d0dff04\n **/","export * from './ZonesPlugin';\nexport * from './ZonesWidget';\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/ZonesPlugin/index.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"three-charts\"\n ** module id = 2\n ** module chunks = 0 1 2 3 4 5\n **/","\nimport {\n\tChartPlugin, ChartWidget, Utils, Chart, TColor, UniqCollection,\n\tUniqCollectionItem, IIteralable, TEase\n} from 'three-charts';\nimport { ZonesWidget } from \"./ZonesWidget\";\n\nexport enum ZONE_TYPE {\n\tX_RANGE\n}\n\nexport interface IZoneOptions {\n\tname?: string;\n\ttitle?: string;\n\tposition?: IZonePosition;\n\ttype?: ZONE_TYPE;\n\tbgColor?: TColor;\n\tuserData?: any;\n\tease?: TEase;\n\teaseSpeed?: number;\n\topacity?: number;\n}\n\nconst ZONE_DEFAULT_OPTIONS: IZoneOptions = {\n\tname: '',\n\ttitle: '',\n\ttype: ZONE_TYPE.X_RANGE,\n\tbgColor: '#b81820',\n\teaseSpeed: 500,\n\topacity: 0.4,\n\tposition: {\n\t\tstartXVal: 0,\n\t\tstartYVal: 0,\n\t\tendXVal: 0,\n\t\tendYVal: 0\n\t}\n};\n\nexport interface IZonePosition {\n\tstartXVal?: number;\n\tstartYVal?: number;\n\tendXVal?: number;\n\tendYVal?: number;\n}\n\nexport class Zone extends UniqCollectionItem implements IZoneOptions {\n\tname: string;\n\ttitle: string;\n\tposition: IZonePosition;\n\ttype: ZONE_TYPE;\n\tbgColor: TColor;\n\tuserData: any;\n\tease: TEase;\n\teaseSpeed: number;\n\topacity: number;\n\n\tconstructor (private zonePlugin: ZonesPlugin, private chart: Chart) {\n\t\tsuper();\n\t\tUtils.patch(this as IIteralable, ZONE_DEFAULT_OPTIONS);\n\t\tif (this.type == ZONE_TYPE.X_RANGE) {\n\t\t\tthis.position.startYVal = -Infinity;\n\t\t\tthis.position.endYVal = Infinity;\n\t\t}\n\t}\n\n\tremove() {\n\t\tthis.chart.setState({pluginsState: {[ZonesPlugin.NAME]: [{_id: this.getId()}]}});\n\t}\n\n\tupdate(newOptions: IZoneOptions) {\n\t\tlet options = Utils.deepMerge({_id: this.getId()} as IZoneOptions, newOptions);\n\t\tthis.chart.setState({pluginsState: {[ZonesPlugin.NAME]: [options]}});\n\t}\n}\n\n\n\nexport class ZonesPlugin extends ChartPlugin<IZoneOptions[]> {\n\tstatic NAME = 'Zone';\n\tstatic providedWidgets: typeof ChartWidget[] = [ZonesWidget];\n\n\titems = new UniqCollection<Zone, IZoneOptions>({\n\t\tcreateInstance: () => new Zone(this, this.chart)\n\t});\n\n\tconstructor(pluginOptions: IZoneOptions[]) {\n\t\tsuper(pluginOptions);\n\t}\n\n\tprotected onInitialStateAppliedHandler() {\n\t\tthis.onStateChangedHandler(this.getOptions());\n\t}\n\n\tprotected onStateChangedHandler(options: IZoneOptions[]) {\n\t\tthis.items.patch(options);\n\t}\n\n\tcreate(zoneOptions: IZoneOptions): Zone {\n\t\tthis.chart.setState({pluginsState: {[this.name]: [zoneOptions]}});\n\t\treturn this.items.getLast();\n\t}\n\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/ZonesPlugin/ZonesPlugin.ts\n **/","import Object3D = THREE.Object3D;\nimport Geometry = THREE.Geometry;\nimport LineBasicMaterial = THREE.LineBasicMaterial;\nimport Vector3 = THREE.Vector3;\nimport Line = THREE.Line;\nimport Mesh = THREE.Mesh;\nimport Texture = THREE.Texture;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\n\nimport { ChartWidget, Chart, Color, Utils, Animation } from 'three-charts';\nimport { Zone, ZonesPlugin, IZoneOptions } from \"./ZonesPlugin\";\n/**\n * widget for shows marks on axis\n */\nexport class ZonesWidget extends ChartWidget {\n\tstatic widgetName = 'Zones';\n\n\tprotected object3D: Object3D;\n\tprotected items: ZoneWidget[] = [];\n\tprotected zonesPlugin: ZonesPlugin;\n\n\tonReadyHandler() {\n\t\tthis.object3D = new Object3D();\n\t\tthis.zonesPlugin = this.chart.getPlugin(ZonesPlugin.NAME) as ZonesPlugin;\n\t\tthis.zonesPlugin.items.forEach(zone => this.createZoneWidget(zone));\n\t\tthis.bindEvents();\n\t}\n\n\tprotected createZoneWidget(zone: Zone) {\n\t\tlet widget = new ZoneWidget(this.chart, zone);\n\t\tthis.items.push(widget);\n\t\tthis.object3D.add(widget.getObject3D());\n\t}\n\n\tprotected bindEvents() {\n\t\tlet zones = this.zonesPlugin.items;\n\t\tthis.bindEvent(\n\t\t\tthis.chart.interpolatedViewport.onInterpolation(() => this.updateZonesPositions()),\n\t\t\tzones.onCreate(item => this.createZoneWidget(item)),\n\t\t\tzones.onUpdate((item, changedOptions) => this.onZoneUpdateHandler(item, changedOptions)),\n\t\t\tzones.onRemove(item => this.onZoneRemoveHandler(item))\n\t\t);\n\t}\n\n\tprotected onZoneUpdateHandler(mark: Zone, changedOptions: IZoneOptions) {\n\t\tlet widget = this.items.find(widget => widget.zone.getId() == mark.getId());\n\t\twidget.update(changedOptions);\n\t}\n\n\tprotected onZoneRemoveHandler(mark: Zone) {\n\t\tlet ind = this.items.findIndex(widget => widget.zone.getId() == mark.getId());\n\t\tlet widget = this.items[ind];\n\t\tthis.object3D.remove(widget.getObject3D());\n\t\tthis.items.splice(ind, 1);\n\t}\n\n\tprotected updateZonesPositions() {\n\t\tthis.forEach(widget => widget.updatePosition());\n\t}\n\n\tforEach(fn: (widget: ZoneWidget) => any) {\n\t\tfor (let widget of this.items) fn(widget);\n\t}\n\n\tgetObject3D() {\n\t\treturn this.object3D;\n\t}\n\n}\n\nexport interface IZoneAnimatedProps {\n\tstartXVal: number;\n\tendXVal: number;\n\tstartYVal: number;\n\tendYVal: number;\n\topacity: number;\n}\n\nexport class ZoneWidget {\n\tzone: Zone;\n\tprotected animation: Animation<IZoneAnimatedProps>;\n\tprotected animatedProps: IZoneAnimatedProps;\n\tprotected object3D: Object3D;\n\tprotected mesh: Mesh;\n\tprotected chart: Chart;\n\n\n\tconstructor(chart: Chart, zone: Zone) {\n\t\tthis.chart = chart;\n\t\tthis.zone = zone;\n\t\tthis.object3D = new Object3D();\n\t\tthis.initObject();\n\t\tthis.updatePosition();\n\t}\n\n\tgetObject3D() {\n\t\treturn this.object3D;\n\t}\n\n\tinitObject() {\n\t\tlet height = this.chart.state.height;\n\t\tlet bgColor = new Color(this.zone.bgColor);\n\t\tthis.animatedProps = Utils.deepMerge({} as IZoneAnimatedProps, this.zone.position as IZoneAnimatedProps);\n\t\tthis.animatedProps.opacity = this.zone.opacity;\n\t\t// mesh scheme\n\t\t//\n\t\t// vert0 +---+ vert3\n\t\t//       |\\  |\n\t\t// face1 | \\ | face2\n\t\t// \t     |  \\|\n\t\t// vert1 +---+ vert2\n\n\t\tlet geometry = new Geometry();\n\t\tgeometry.vertices.push(\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3()\n\t\t);\n\t\tgeometry.faces.push(\n\t\t\tnew THREE.Face3( 0, 1, 2 ),\n\t\t\tnew THREE.Face3( 3, 0, 2 )\n\t\t);\n\n\n\t\tthis.mesh = new Mesh(\n\t\t\tgeometry,\n\t\t\tnew MeshBasicMaterial({transparent: true, color: bgColor.value, opacity: bgColor.a})\n\t\t);\n\t\tthis.mesh.frustumCulled = false;\n\t\tthis.object3D.add(this.mesh);\n\t}\n\n\tupdate(options: IZoneOptions) {\n\t\tlet zone = this.zone;\n\t\tthis.animation && this.animation.stop();\n\t\tthis.animation = this.chart.animationManager.animate(zone.easeSpeed, zone.ease)\n\t\t\t.from(this.animatedProps)\n\t\t\t.to({\n\t\t\t\tstartXVal: zone.position.startXVal,\n\t\t\t\tstartYVal: zone.position.startYVal,\n\t\t\t\tendXVal: zone.position.endXVal,\n\t\t\t\tendYVal: zone.position.endYVal,\n\t\t\t\topacity: zone.opacity\n\t\t\t})\n\t\t\t.onTick(() => this.updatePosition());\n\t}\n\tupdatePosition()  {\n\t\tlet chart = this.chart;\n\t\tlet viewport = chart.interpolatedViewport;\n\t\tlet zone = this.zone;\n\t\tlet {startXVal, startYVal, endXVal, endYVal, opacity} = this.animatedProps;\n\t\tlet startY = isFinite(startYVal) ? viewport.getWorldYByVal(startYVal) : viewport.getBottom();\n\t\tlet endY = isFinite(endYVal) ? viewport.getWorldYByVal(endYVal) : viewport.getTop();\n\t\tlet startX = viewport.getWorldXByVal(startXVal);\n\t\tlet endX = viewport.getWorldXByVal(endXVal);\n\t\tlet geometry = this.mesh.geometry as Geometry;\n\t\tlet material = this.mesh.material as MeshBasicMaterial;\n\t\tlet verts = geometry.vertices;\n\n\t\tmaterial.opacity = this.animatedProps.opacity;\n\n\t\tverts[0].set(startX, endY, 0);\n\t\tverts[1].set(startX, startY, 0);\n\t\tverts[2].set(endX, startY, 0);\n\t\tverts[3].set(endX, endY, 0);\n\n\t\tgeometry.verticesNeedUpdate = true;\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./plugins/src/ZonesPlugin/ZonesWidget.ts\n **/"],"sourceRoot":""}